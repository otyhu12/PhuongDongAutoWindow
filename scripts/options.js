"use strict";angular.module("multiWindowPositioner",["ngFileUpload","ui.checkbox","uuid4"]).controller("PositionerOptionsController",["$scope","$timeout","Upload","$http","uuid4",function(o,e,n,t,i){function a(){try{v(),p(),l(),ro("top-section")}catch(o){(console.error||console.log).call(console,o.stack||o)}}function r(o){_.forEach(so.options.tabs,function(e,n){e.position=o}),H()}function s(o){var e=d(o);_.forEach(so.options.tabs,function(o,n){o.monitor=e}),H()}function l(){function o(o,e,n){try{if(o.closePageGenerator){var t=o.closePageGenerator;for(var i in so.windowHandlers)if(so.windowHandlers.hasOwnProperty(i)){var a=so.windowHandlers[i];a.groupId===t&&c(a)}}}catch(r){(console.error||console.log).call(console,r.stack||r)}}try{chrome.runtime.onMessageExternal.addListener(o)}catch(e){(console.error||console.log).call(console,e.stack||e)}}function c(o){try{so.windowHandlers[o.uuid]&&chrome.windows.remove(o.id,function(){delete so.windowHandlers[o.uuid],console.log("Removed window "+o.id)})}catch(e){(console.error||console.log).call(console,e.stack||e)}}function T(){so.showExtraOptions=!so.showExtraOptions}function p(){chrome.system.display.getInfo(function(o){try{so.displayInfos=angular.copy(o),console.table(o),_.forEach(so.displayInfos,function(o,e){o.idx=e+1;var n={id:o.id,idx:o.idx,name:o.name,workArea:o.workArea};Oo[n.id]=n}),e(function(){y()})}catch(n){(console.error||console.log).call(console,n.stack||n)}})}function O(){try{var o=i.generate();_.forEach(so.displayInfos,function(e,n){var t="https://igorlino.github.io/page-generator/? title=Monitor%20"+(n+1)+"&type=monitor&id="+(n+1)+"&groupid="+o+"&extid="+chrome.runtime.id+"&delay="+po,a={url:t,left:e.workArea.left,top:e.workArea.top,width:e.workArea.width,height:e.workArea.height,type:"popup"},r={groupId:o,uuid:i.generate(),handler:null};r.handler=chrome.windows.create(a,function(o){r.id=o.id,so.windowHandlers[r.uuid]=r,console.log("Window "+o.id+" created."),chrome.windows.update(o.id,{state:"maximized"},function(){console.log("Maximized detection window")}),setTimeout(function(){console.log("Removing window "+o.id),c(r)},1e3*po+To)})})}catch(e){(console.error||console.log).call(console,e.stack||e)}}function m(){var o=null;return _.forEach(so.displayInfos,function(e,n){if(console.log(e),e.isPrimary)return o=e,!1}),o}function d(o){var e=null;return _.forEach(so.displayInfos,function(n,t){if(n.id===o)return e=n,!1}),e}function E(o){_.remove(so.options.tabs,function(e){return e.timestamp===o.timestamp}),H()}function u(o){_.remove(so.options.positions,function(e){return o.name===e.name}),H()}function I(){so.showNewTabOption=!0,so.newTabOption=k(),so.newTabOption.template=null,console.log("dhasgbsdas"+m())}function g(o,e){o.x=e.workArea.left,o.y=e.workArea.top,o.width=e.workArea.width,o.height=e.workArea.height}function M(){so.options.positions.push({name:"CustomPosition"+so.options.positions.length,x:0,y:0,height:10,width:10}),H()}function h(o){so.showEditTabOption=!0,so.newTabOption=angular.copy(o),so.newTabOption.position=L(o.position),so.newTabOption.defaultMonitor=A(o.defaultMonitor),so.newTabOption.monitor=d(o.monitor.id),so.editTabOptionIdx=_.findIndex(so.options.tabs,o),so.newTabOption.template=null}function f(){so.newTabOption.template&&(so.newTabOption.name=so.newTabOption.template.name,so.newTabOption.url=so.newTabOption.template.url,so.newTabOption.code=so.newTabOption.template.code,so.newTabOption.active=so.newTabOption.template.active,so.newTabOption.remember=so.newTabOption.template.remember,so.newTabOption.template.defaultMonitor&&(so.newTabOption.defaultMonitor=A(so.newTabOption.template.defaultMonitor)),so.newTabOption.template.position&&(so.newTabOption.position=L(so.newTabOption.template.position)))}function A(o){var e=_.findKey(Eo,function(e){return e.id===o});return e?Eo[e]:null}function L(o){var e=_.findKey(mo,function(e){return e.id===o});return e?mo[e]:null}function w(){so.showNewTabOption=!1,so.showEditTabOption=!1}function S(){so.showEditTabOption=!1,so.options.tabs[so.editTabOptionIdx]={active:so.newTabOption.active,code:so.newTabOption.code,remember:so.newTabOption.remember,url:so.newTabOption.url,name:so.newTabOption.name,monitor:so.newTabOption.monitor,fullScreen:so.newTabOption.fullScreen,popup:so.newTabOption.popup,position:so.newTabOption.position?so.newTabOption.position.id:Oo.CENTER.id,defaultMonitor:so.newTabOption.defaultMonitor?so.newTabOption.defaultMonitor.id:Eo.MAIN_MONITOR.id,timestamp:(new Date).toISOString()},so.editTabOptionIdx=-1,y(),H()}function N(){try{so.options.tabs.push({active:so.newTabOption.active,code:so.newTabOption.code,remember:so.newTabOption.remember,url:so.newTabOption.url,name:so.newTabOption.name,monitor:so.newTabOption.monitor,fullScreen:so.newTabOption.fullScreen,popup:so.newTabOption.popup,position:so.newTabOption.position?so.newTabOption.position.id:Oo.CENTER.id,defaultMonitor:so.newTabOption.defaultMonitor?so.newTabOption.defaultMonitor.id:Eo.MAIN_MONITOR.id,timestamp:(new Date).toISOString()}),so.showNewTabOption=!1,y(),H()}catch(o){(console.error||console.log).call(console,o.stack||o)}}function b(){so.newTabOption=F(),so.newTabOption.template=null;try{so.options.tabs.push({active:so.newTabOption.active,code:so.newTabOption.code,remember:so.newTabOption.remember,url:so.newTabOption.url,name:so.newTabOption.name,monitor:so.newTabOption.monitor,fullScreen:so.newTabOption.fullScreen,popup:!0,position:so.newTabOption.position?so.newTabOption.position.id:Oo.CENTER.id,defaultMonitor:so.newTabOption.defaultMonitor?so.newTabOption.defaultMonitor.id:Eo.MAIN_MONITOR.id,timestamp:(new Date).toISOString()}),y(),H(),console.log(so.newTabOption.monitor)}catch(o){(console.error||console.log).call(console,o.stack||o)}}function R(){localStorage[lo]=JSON.stringify(so.options),G()}function H(){so.dirty=!0}function G(){so.dirty=!1}function v(){try{var o=localStorage[lo];o?(so.options=JSON.parse(o),so.options.tabs||(so.options.tabs=[]),so.options.positions||(so.options.positions=[]),G()):(so.options={tabs:[],positions:[]},H()),(!so.options.templates||so.options.templates.length<=0)&&(so.options.templates=Q())}catch(e){(console.error||console.log).call(console,e.stack||e)}return so.showsHelp||0!==so.options.tabs.length||(so.showsHelp=!0),so.options}function D(){v(),y()}function P(o,e){var n=null;try{if(e)for(var t in o)if(o.hasOwnProperty(t)){var i=o[t];if(e===i.id){n=i.monitor;break}}}catch(a){(console.error||console.log).call(console,a.stack||a)}return n}function U(){var o=angular.copy(Eo);try{_.forEach(so.displayInfos,function(e,n){if(e.isEnabled){var t=e.workArea,i=t.height*t.width;if(e.isPrimary&&(o.MAIN_MONITOR.monitor=e),!e.isPrimary)if(o.NOT_MAIN_MONITOR.monitor){var a=o.NOT_MAIN_MONITOR.monitor.workArea.height*o.NOT_MAIN_MONITOR.monitor.workArea.width;i>a&&(o.NOT_MAIN_MONITOR.monitor=e)}else o.NOT_MAIN_MONITOR.monitor=e;if(o.BIGGEST_RESOLUTION.monitor){var r=o.BIGGEST_RESOLUTION.monitor.workArea.height*o.BIGGEST_RESOLUTION.monitor.workArea.width;i>r&&(o.BIGGEST_RESOLUTION.monitor=e)}else o.BIGGEST_RESOLUTION.monitor=e;if((!o.BIGGEST_HEIGHT.monitor||t.height>o.BIGGEST_HEIGHT.monitor.workArea.height)&&(o.BIGGEST_HEIGHT.monitor=e),(!o.BIGGEST_WIDTH.monitor||t.width>o.BIGGEST_WIDTH.monitor.workArea.width)&&(o.BIGGEST_WIDTH.monitor=e),o.SMALLEST_RESOLUTION.monitor){var s=o.SMALLEST_RESOLUTION.monitor.workArea.height*o.SMALLEST_RESOLUTION.monitor.workArea.width;i<s&&(o.SMALLEST_RESOLUTION.monitor=e)}else o.SMALLEST_RESOLUTION.monitor=e;(!o.SMALLEST_HEIGHT.monitor||t.height<o.SMALLEST_HEIGHT.monitor.workArea.height)&&(o.SMALLEST_HEIGHT.monitor=e),(!o.SMALLEST_WIDTH.monitor||t.width<o.SMALLEST_WIDTH.monitor.workArea.width)&&(o.SMALLEST_WIDTH.monitor=e)}})}catch(e){(console.error||console.log).call(console,e.stack||e)}return o}function y(o){try{var e=U(),n=!1;_.forEach(so.options.tabs,function(t,i){if(t.inconsistentCustom=!1,t.custom&&""!==t.custom){var a=!1;_.forEach(so.options.positions,function(o,e){if(o.name===t.custom)return t.inconsistentCustom=!0,a=!0,!1}),a||(n=!0)}var r=!1;if(_.forEach(so.displayInfos,function(o,e){if(o.isEnabled&&t.monitor.id===o.id)return r=!0,!1}),r)t.inconsistentMonitor=!1;else{var s=null;o&&(s=P(e,t.defaultMonitor),s&&(t.monitor=angular.copy(s))),o&&s||(t.inconsistentMonitor=!0,n=!0)}}),so.inconsistentOptions=n}catch(t){(console.error||console.log).call(console,t.stack||t)}}function B(){function o(o,e){o.workArea=angular.copy(e.workArea),o.id=e.id;var n=_.findIndex(so.displayInfos,e);o.name=e.name,o.idx=n+1}try{var e=m();_.forEach(so.options.tabs,function(n,t){var i=!1,a=null;_.forEach(so.displayInfos,function(o,e){if(o.isEnabled&&o.workArea&&o.workArea.height===n.monitor.workArea.height&&o.workArea.width===n.monitor.workArea.width&&(a=o),n.monitor.id===o.id)return i=!0,!1}),i||(a?o(n.monitor,a):e&&o(n.monitor,e))}),y()}catch(n){(console.error||console.log).call(console,n.stack||n)}}function k(){return{active:!0,remember:!1,code:"custom",name:so.locale.RULE_NAME_PLACEHOLDER,url:"http://any.url/",monitor:m(),defaultMonitor:Eo.MAIN_MONITOR,fullScreen:!1,popup:!0,position:mo.CENTER}}function F(){return console.log(m()),{active:!0,remember:!0,code:"custom",name:"LAPOLO",url:"https://his.lapolo.com:7000/his/screen-saver",monitor:m(),defaultMonitor:Eo.MAIN_MONITOR,fullScreen:!0,popup:!0,position:mo.FULLSIZE}}function W(){var o=localStorage[co];o&&(so.templateUrl=o),so.showImportTemplateDialog=!0}function C(o){try{so.showImportTemplateDialog=!1,o&&""!==o&&(localStorage[co]=o,so.templateUrl=o,Y(o,function(o){o.success&&o.data&&(o.data.tabs&&x(so.options.tabs,o.data.tabs),o.data.templates&&(so.replaceAllTemplates?so.options.templates=o.data.templates:X(so.options.templates,o.data.templates)),y(!0),H())}))}catch(e){(console.error||console.log).call(console,e.stack||e)}}function x(o,e){try{V(o);for(var n=0;n<o.length;n++)for(var t=o[n],i=0;i<e.length;i++){var a=e[i];a.order=i+1,t.code===a.code&&(a.merged=!0,t.url=a.url,t.name=a.name,t.defaultMonitor=a.defaultMonitor,t.order=a.order)}for(var r=0;r<e.length;r++){var s=e[r];s.merged||o.push(s)}z(o)}catch(l){(console.error||console.log).call(console,l.stack||l)}}function V(o){for(var e=0;e<o.length;e++)delete o[e].order}function z(o){for(var e=0;e<o.length;e++)for(var n=0;n<o.length-1-e;n++){var t=o[n],i=o[n+1];(t.order&&i.order&&t.order>i.order||t.order&&!i.order)&&(o[n]=i,o[n+1]=t)}}function X(o,e){try{V(o);for(var n=0;n<o.length;n++)for(var t=o[n],i=0;i<e.length;i++){var a=e[i];a.order=i+1,t.code===a.code&&(a.merged=!0,t.active=a.active,t.code=a.code,t.remember=a.remember,t.url=a.url,t.name=a.name,t.defaultMonitor=a.defaultMonitor,t.position=a.position,t.order=a.order)}for(var r=0;r<e.length;r++){var s=e[r];newTemplate.merged||o.push(s)}z(o)}catch(l){(console.error||console.log).call(console,l.stack||l)}}function Z(){so.showImportTemplateDialog=!1,so.templateUrl=""}function j(e){n.upload({url:"upload/url",data:{file:e,username:o.username}}).then(function(o){console.log("Success "+o.config.data.file.name+"uploaded. Response: "+o.data)},function(o){console.log("Error status: "+o.status)},function(o){var e=parseInt(100*o.loaded/o.total);o.config.data.file.name?console.log("progress: "+e+"% "+o.config.data.file.name):console.log("progress: "+e+"% "+o.config.data.file)})}function J(){var o=angular.toJson(so.options,3),e=new Blob([o],{type:"application/json"}),n=window.saveAs;n(e,"multiwindow-positioner-rule-export.json")}function Q(){return[{active:!0,remember:!1,name:"LAPOLO",url:"https://his.lapolo.com:7000/his/screen-saver",code:"google-search",defaultMonitor:"main-monitor"}]}function $(o,e){o||(K(so.options.tabs,e,e-1),H())}function q(o,e){o||(K(so.options.tabs,e,e+1),H())}function K(o,e,n){var t=o[e];o[e]=o[n],o[n]=t}function Y(o,e){function n(n){var t=oo(n.data,o);e(t)}function i(o){var n={success:!0,data:o.data};e(n)}t({method:"get",url:o,headers:{"Cache-Control":"no-cache"}}).then(i,n)}function oo(o,e){var n={success:!1};return o?n.error=o:n.error=eo()+" - Request failed: "+e,n}function eo(){var o=new Date;return o.toLocaleString()}function no(){return{OPTIONS_TITLE:chrome.i18n.getMessage("OPTIONS_TITLE"),TAB_SETTINGS:chrome.i18n.getMessage("TAB_SETTINGS"),TAB_POSITIONS:chrome.i18n.getMessage("TAB_POSITIONS"),CUSTOM:chrome.i18n.getMessage("CUSTOM"),WIDTH:chrome.i18n.getMessage("WIDTH"),HEIGHT:chrome.i18n.getMessage("HEIGHT"),ADD_POSITION:chrome.i18n.getMessage("ADD_POSITION"),REMOVE_POSITION:chrome.i18n.getMessage("REMOVE_POSITION"),ACTIVE:chrome.i18n.getMessage("ACTIVE"),NAME:chrome.i18n.getMessage("NAME"),URL:chrome.i18n.getMessage("URL"),REMEMBER:chrome.i18n.getMessage("REMEMBER"),MONITOR:chrome.i18n.getMessage("MONITOR"),POSITION:chrome.i18n.getMessage("POSITION"),PLAIN:chrome.i18n.getMessage("PLAIN"),EDIT_TAB_RULE:chrome.i18n.getMessage("EDIT_TAB_RULE"),DELETE_TAB_RULE:chrome.i18n.getMessage("DELETE_TAB_RULE"),MOVE_UP:chrome.i18n.getMessage("MOVE_UP"),MOVE_DOWN:chrome.i18n.getMessage("MOVE_DOWN"),NEW_TAB_OPTION_TITLE:chrome.i18n.getMessage("NEW_TAB_OPTION_TITLE"),EDIT_TAB_OPTION_TITLE:chrome.i18n.getMessage("EDIT_TAB_OPTION_TITLE"),TEMPLATE:chrome.i18n.getMessage("TEMPLATE"),PLAIN_WINDOW:chrome.i18n.getMessage("PLAIN_WINDOW"),ADD:chrome.i18n.getMessage("ADD"),UPDATE:chrome.i18n.getMessage("UPDATE"),CANCEL:chrome.i18n.getMessage("CANCEL"),TEMPLATE_URL:chrome.i18n.getMessage("TEMPLATE_URL"),REPLACE_ALL_TEMPLATES:chrome.i18n.getMessage("REPLACE_ALL_TEMPLATES"),ADD_TAB_OPTION:chrome.i18n.getMessage("ADD_TAB_OPTION"),SAVE:chrome.i18n.getMessage("SAVE"),UNDO:chrome.i18n.getMessage("UNDO"),RELOAD:chrome.i18n.getMessage("RELOAD"),IMPORT_TEMPLATE:chrome.i18n.getMessage("IMPORT_TEMPLATE"),EXPORT_TEMPLATE:chrome.i18n.getMessage("EXPORT_TEMPLATE"),SHOW_MORE_OPTIONS:chrome.i18n.getMessage("SHOW_MORE_OPTIONS"),VALIDATE_RULES:chrome.i18n.getMessage("VALIDATE_RULES"),DETECT_MONITORS:chrome.i18n.getMessage("DETECT_MONITORS"),AUTO_REPAIR_RULES:chrome.i18n.getMessage("AUTO_REPAIR_RULES"),MAXIMIZED:chrome.i18n.getMessage("MAXIMIZED"),LEFT_HALF:chrome.i18n.getMessage("LEFT_HALF"),RIGHT_HALF:chrome.i18n.getMessage("RIGHT_HALF"),TOP_HALF:chrome.i18n.getMessage("TOP_HALF"),BOTTOM_HALF:chrome.i18n.getMessage("BOTTOM_HALF"),DEFAULT_MONITOR:chrome.i18n.getMessage("DEFAULT_MONITOR"),MAIN_MONITOR:chrome.i18n.getMessage("MAIN_MONITOR"),NOT_MAIN_MONITOR:chrome.i18n.getMessage("NOT_MAIN_MONITOR"),BIGGEST_RESOLUTION:chrome.i18n.getMessage("BIGGEST_RESOLUTION"),BIGGEST_HEIGHT:chrome.i18n.getMessage("BIGGEST_HEIGHT"),BIGGEST_WIDTH:chrome.i18n.getMessage("BIGGEST_WIDTH"),SMALLEST_RESOLUTION:chrome.i18n.getMessage("SMALLEST_RESOLUTION"),SMALLEST_HEIGHT:chrome.i18n.getMessage("SMALLEST_HEIGHT"),SMALLEST_WIDTH:chrome.i18n.getMessage("SMALLEST_WIDTH"),RULE_NAME_PLACEHOLDER:chrome.i18n.getMessage("RULE_NAME_PLACEHOLDER"),DRAFT:chrome.i18n.getMessage("DRAFT")}}function to(o){var e=o;return o===Eo.MAIN_MONITOR.id?e=so.locale.MAIN_MONITOR:o===Eo.NOT_MAIN_MONITOR.id?e=so.locale.NOT_MAIN_MONITOR:o===Eo.BIGGEST_RESOLUTION.id?e=so.locale.BIGGEST_RESOLUTION:o===Eo.BIGGEST_HEIGHT.id?e=so.locale.BIGGEST_HEIGHT:o===Eo.BIGGEST_WIDTH.id?e=so.locale.BIGGEST_WIDTH:o===Eo.SMALLEST_RESOLUTION.id?e=so.locale.SMALLEST_RESOLUTION:o===Eo.SMALLEST_HEIGHT.id?e=so.locale.SMALLEST_HEIGHT:o===Eo.SMALLEST_WIDTH.id&&(e=so.locale.SMALLEST_WIDTH),e}function io(o){var e=o;return o===mo.CENTER.id?e=so.locale.MAXIMIZED:o===mo.LEFT_HALF.id?e=so.locale.LEFT_HALF:o===mo.RIGHT_HALF.id?e=so.locale.RIGHT_HALF:o===mo.TOP_HALF.id?e=so.locale.TOP_HALF:o===mo.BOTTOM_HALF.id&&(e=so.locale.BOTTOM_HALF),e}function ao(){so.showsHelp=!so.showsHelp,ro(so.showsHelp?"quick-info-section":"top-section")}function ro(o,n,t,i){var a=(angular.isDefined(t)?t:0,angular.isDefined(i)?i:0),r=jQuery("html, body");r.stop();var s=jQuery("#"+o);s&&s.length>0&&e(function(){r.animate({scrollTop:jQuery("#"+o).offset().top+a},800)},100,!1)}var so=o,lo="TAB_HELPER_OPTIONS",co="TAB_HELPER_TEMPLATE_URL",To=1100,po=3,Oo={};so.locale=no();var mo={FULLSIZE:{id:"fullsize",name:"Fullsize"},CENTER:{id:"center",name:so.locale.MAXIMIZED},LEFT_HALF:{id:"left-half",name:so.locale.LEFT_HALF},RIGHT_HALF:{id:"right-half",name:so.locale.RIGHT_HALF},TOP_HALF:{id:"top-half",name:so.locale.TOP_HALF},BOTTOM_HALF:{id:"bottom-half",name:so.locale.BOTTOM_HALF}},Eo={MAIN_MONITOR:{id:"main-monitor",name:so.locale.MAIN_MONITOR},NOT_MAIN_MONITOR:{id:"not-main-monitor",name:so.locale.NOT_MAIN_MONITOR},BIGGEST_RESOLUTION:{id:"biggest-area",name:so.locale.BIGGEST_RESOLUTION},BIGGEST_HEIGHT:{id:"biggest-height",name:so.locale.BIGGEST_HEIGHT},BIGGEST_WIDTH:{id:"biggest-width",name:so.locale.BIGGEST_WIDTH},SMALLEST_RESOLUTION:{id:"smallest-area",name:so.locale.SMALLEST_RESOLUTION},SMALLEST_HEIGHT:{id:"smallest-height",name:so.locale.SMALLEST_HEIGHT},SMALLEST_WIDTH:{id:"smallest-width",name:so.locale.SMALLEST_WIDTH}};so.POSITIONS=mo,so.MONITORS=Oo,so.DEFAULT_MONITORS=Eo,so.windowHandlers={},so.options=null,so.showNewTabOption=!1,so.showEditTabOption=!1,so.showImportTemplateDialog=!1,so.inconsistentOptions=!1,so.dirty=!1,so.showExtraOptions=!1,so.showsHelp=!1,so.isopen=!0,so.showImportTemplateDialog=!1,so.templateUrl="",so.replaceAllTemplates=!0,so.localizeDefaultMonitor=to,so.localizePosition=io,so.markAsDirty=H,so.saveOptions=R,so.loadOptions=v,so.undoOptions=v,so.reloadOptions=D,so.detectMonitors=O,so.showAdvancedOptions=T,so.addTabOption=I,so.saveTabOption=N,so.saveTabOption1=b,so.updateTabOption=S,so.editTabOption=h,so.useTemplateAsOption=f,so.addPosition=M,so.setCustomPositionAsMonitor=g,so.applyPositionToAll=r,so.applyMonitorToAll=s,so.autofixOptions=B,so.validateOptions=y,so.moveOptionUp=$,so.moveOptionDown=q,so.importTemplate=j,so.openImportTemplateMenu=W,so.acceptImportTemplateMenu=C,so.cancelImportTemplateMenu=Z,so.exportTemplate=J,so.cancelTabOption=w,so.deleteTabOption=E,so.deletePositionOption=u,so.toggleHelp=ao,a()}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvb3B0aW9ucy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiR0aW1lb3V0IiwiVXBsb2FkIiwiJGh0dHAiLCJ1dWlkNCIsImFjdGl2YXRlIiwibG9hZE9wdGlvbnMiLCJsb2FkRGlzcGxheUluZm9zIiwicmVnaXN0ZXJQb3N0TWVzc2FnZUxpc3RlbmVyIiwiZG9TY3JvbGxUb0VsZW1lbnQiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2ciLCJjYWxsIiwic3RhY2siLCJhcHBseVBvc2l0aW9uVG9BbGwiLCJwb3NpdGlvbklkIiwiXyIsImZvckVhY2giLCJ2bSIsIm9wdGlvbnMiLCJ0YWJzIiwidGFiIiwiaWR4IiwicG9zaXRpb24iLCJtYXJrQXNEaXJrIiwiYXBwbHlNb25pdG9yVG9BbGwiLCJkaXNwbGF5SWQiLCJtb25pdG9yIiwiZ2V0RGlzcGxheUJ5SWQiLCJvbk1lc3NhZ2VFeHRlcm5hbExpc3RlbmVyIiwicmVxdWVzdCIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImNsb3NlUGFnZUdlbmVyYXRvciIsImdyb3VwSWQiLCJrZXkiLCJ3aW5kb3dIYW5kbGVycyIsImhhc093blByb3BlcnR5Iiwid2luZG93SGFuZGxlciIsImNsb3NlV2luZG93QnlIYW5kbGVyIiwiY2hyb21lIiwicnVudGltZSIsIm9uTWVzc2FnZUV4dGVybmFsIiwiYWRkTGlzdGVuZXIiLCJ1dWlkIiwid2luZG93cyIsInJlbW92ZSIsImlkIiwic2hvd0FkdmFuY2VkT3B0aW9ucyIsInNob3dFeHRyYU9wdGlvbnMiLCJzeXN0ZW0iLCJkaXNwbGF5IiwiZ2V0SW5mbyIsImRpc3BsYXlJbmZvcyIsImNvcHkiLCJ0YWJsZSIsIm5hbWUiLCJ3b3JrQXJlYSIsIk1PTklUT1JTIiwidmFsaWRhdGVPcHRpb25zIiwiZGV0ZWN0TW9uaXRvcnMiLCJnZW5lcmF0ZSIsImRldGVjdGlvblVybCIsIlBBR0VfREVURUNUSU9OX0RJU1BMQVlfSU5URVJWQUwiLCJjcmVhdGVEYXRhIiwidXJsIiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0IiwidHlwZSIsImhhbmRsZXIiLCJjcmVhdGUiLCJ3aW5kb3ciLCJ1cGRhdGUiLCJzdGF0ZSIsInNldFRpbWVvdXQiLCJQQUdFX0xPQURJTkdfT0ZGU0VUIiwiZ2V0UHJpbWFyeURpc3BsYXkiLCJmb3VuZCIsImlzUHJpbWFyeSIsImRlbGV0ZVRhYk9wdGlvbiIsInRhYk9wdGlvbiIsIm9wdGlvbiIsInRpbWVzdGFtcCIsImRlbGV0ZVBvc2l0aW9uT3B0aW9uIiwicG9zaXRpb25Ub0RlbGV0ZSIsInBvc2l0aW9ucyIsImFkZFRhYk9wdGlvbiIsInNob3dOZXdUYWJPcHRpb24iLCJuZXdUYWJPcHRpb24iLCJjcmVhdGVOZXdPcHRpb24iLCJ0ZW1wbGF0ZSIsInNldEN1c3RvbVBvc2l0aW9uQXNNb25pdG9yIiwieCIsInkiLCJhZGRQb3NpdGlvbiIsInB1c2giLCJsZW5ndGgiLCJlZGl0VGFiT3B0aW9uIiwic2hvd0VkaXRUYWJPcHRpb24iLCJmaW5kUG9zaXRpb25CeUlkIiwiZGVmYXVsdE1vbml0b3IiLCJmaW5kRGVmYXVsdE1vbml0b3JCeUlkIiwiZWRpdFRhYk9wdGlvbklkeCIsImZpbmRJbmRleCIsInVzZVRlbXBsYXRlQXNPcHRpb24iLCJjb2RlIiwiYWN0aXZlIiwicmVtZW1iZXIiLCJkZWZhdWx0TW9uaXRvcklkIiwiZmluZEtleSIsIkRFRkFVTFRfTU9OSVRPUlMiLCJwb3NpdGlvbktleSIsIlBPU0lUSU9OUyIsImNhbmNlbFRhYk9wdGlvbiIsInVwZGF0ZVRhYk9wdGlvbiIsImZ1bGxTY3JlZW4iLCJwb3B1cCIsIkNFTlRFUiIsIk1BSU5fTU9OSVRPUiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNhdmVUYWJPcHRpb24iLCJzYXZlVGFiT3B0aW9uMSIsImNyZWF0ZU5ld09wdGlvbjEiLCJzYXZlT3B0aW9ucyIsImxvY2FsU3RvcmFnZSIsIk9QVElPTlNfS0VZIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1hcmtBc1ByaXN0aW5lIiwiZGlydHkiLCJ0YWJSdWxlT3B0aW9ucyIsInBhcnNlIiwidGVtcGxhdGVzIiwiZ2V0RGVmYXVsdFRlbXBsYXRlcyIsInNob3dzSGVscCIsInJlbG9hZE9wdGlvbnMiLCJnZXRNYXBwZWREZWZhdWx0TW9uaXRvckJ5SWQiLCJkZWZhdWx0TW9uaXRvcnMiLCJnZXREZWZhdWx0TW9uaXRvcnNNYXBwaW5nIiwiaXNFbmFibGVkIiwiZGlzcGxheVdvcmtBcmVhIiwiYXJlYSIsIk5PVF9NQUlOX01PTklUT1IiLCJub3RNYWluUmVzb2x1dGlvbiIsIkJJR0dFU1RfUkVTT0xVVElPTiIsImJpZ2dlc3RSZXNvbHV0aW9uIiwiQklHR0VTVF9IRUlHSFQiLCJCSUdHRVNUX1dJRFRIIiwiU01BTExFU1RfUkVTT0xVVElPTiIsIl9iaWdnZXN0UmVzb2x1dGlvbiIsIlNNQUxMRVNUX0hFSUdIVCIsIlNNQUxMRVNUX1dJRFRIIiwidXNlRGVmYXVsdE1vbml0b3IiLCJtaXNzaW5nIiwiaW5jb25zaXN0ZW50Q3VzdG9tIiwiY3VzdG9tIiwiY3VzdG9tTWF0Y2giLCJjdXN0b21Qb3NpdGlvbiIsImRpc3BsYXlNYXRjaCIsImluY29uc2lzdGVudE1vbml0b3IiLCJpbmNvbnNpc3RlbnRPcHRpb25zIiwiYXV0b2ZpeE9wdGlvbnMiLCJyZXBsYWNlTW9uaXRvciIsInRhcmdldCIsInNvdXJjZURpc3BsYXkiLCJwcmltYXJ5RGlzcGxheSIsImNsb3Nlc3RNYXRjaCIsImxvY2FsZSIsIlJVTEVfTkFNRV9QTEFDRUhPTERFUiIsIkZVTExTSVpFIiwib3BlbkltcG9ydFRlbXBsYXRlTWVudSIsInRlbXBsYXRlVXJsIiwiVEFCX0hFTFBFUl9URU1QTEFURV9VUkwiLCJzaG93SW1wb3J0VGVtcGxhdGVEaWFsb2ciLCJhY2NlcHRJbXBvcnRUZW1wbGF0ZU1lbnUiLCJjYWxsSHR0cEJ5R2V0IiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiZGF0YSIsIm1lcmdlUnVsZXMiLCJyZXBsYWNlQWxsVGVtcGxhdGVzIiwibWVyZ2VUZW1wbGF0ZXMiLCJleGlzdGVudFJ1bGVzIiwidGVtcGxhdGVSdWxlcyIsImNsZWFuT3JkZXIiLCJpIiwicnVsZSIsImsiLCJvcmRlciIsIm1lcmdlZCIsIl9rIiwiX3RlbXBsYXRlIiwic29ydEJ5T3JkZXIiLCJsaXN0IiwiaXRlbTEiLCJpdGVtMiIsImN1cnJlbnRUZW1wbGF0ZXMiLCJuZXdUZW1wbGF0ZXMiLCJleGlzdGluZ1RlbXBsYXRlIiwiX25ld1RlbXBsYXRlIiwiX2syIiwibmV3VGVtcGxhdGUiLCJjYW5jZWxJbXBvcnRUZW1wbGF0ZU1lbnUiLCJpbXBvcnRUZW1wbGF0ZSIsImZpbGUiLCJ1cGxvYWQiLCJ1c2VybmFtZSIsInRoZW4iLCJyZXNwIiwiY29uZmlnIiwic3RhdHVzIiwiZXZ0IiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwicGFyc2VJbnQiLCJsb2FkZWQiLCJ0b3RhbCIsImV4cG9ydFRlbXBsYXRlIiwib3B0aW9uc0FzSnNvbiIsInRvSnNvbiIsImJsb2IiLCJCbG9iIiwic2F2ZUFzIiwibW92ZU9wdGlvblVwIiwiZmlyc3QiLCJpbmRleCIsInN3YXAiLCJtb3ZlT3B0aW9uRG93biIsImxhc3QiLCJpZHgxIiwiaWR4MiIsInRtcCIsImNhbGxQYXRoIiwiY2FsbGJhY2siLCJvbkVycm9yIiwicmVzdWx0IiwiaGFuZGxlSHR0cEVycm9yIiwib25TdWNjZXNzIiwibWV0aG9kIiwiaGVhZGVycyIsIkNhY2hlLUNvbnRyb2wiLCJkYXRlTm93IiwiZCIsInRvTG9jYWxlU3RyaW5nIiwicHJlcGFyZUxvY2FsZSIsIk9QVElPTlNfVElUTEUiLCJpMThuIiwiZ2V0TWVzc2FnZSIsIlRBQl9TRVRUSU5HUyIsIlRBQl9QT1NJVElPTlMiLCJDVVNUT00iLCJXSURUSCIsIkhFSUdIVCIsIkFERF9QT1NJVElPTiIsIlJFTU9WRV9QT1NJVElPTiIsIkFDVElWRSIsIk5BTUUiLCJVUkwiLCJSRU1FTUJFUiIsIk1PTklUT1IiLCJQT1NJVElPTiIsIlBMQUlOIiwiRURJVF9UQUJfUlVMRSIsIkRFTEVURV9UQUJfUlVMRSIsIk1PVkVfVVAiLCJNT1ZFX0RPV04iLCJORVdfVEFCX09QVElPTl9USVRMRSIsIkVESVRfVEFCX09QVElPTl9USVRMRSIsIlRFTVBMQVRFIiwiUExBSU5fV0lORE9XIiwiQUREIiwiVVBEQVRFIiwiQ0FOQ0VMIiwiVEVNUExBVEVfVVJMIiwiUkVQTEFDRV9BTExfVEVNUExBVEVTIiwiQUREX1RBQl9PUFRJT04iLCJTQVZFIiwiVU5ETyIsIlJFTE9BRCIsIklNUE9SVF9URU1QTEFURSIsIkVYUE9SVF9URU1QTEFURSIsIlNIT1dfTU9SRV9PUFRJT05TIiwiVkFMSURBVEVfUlVMRVMiLCJERVRFQ1RfTU9OSVRPUlMiLCJBVVRPX1JFUEFJUl9SVUxFUyIsIk1BWElNSVpFRCIsIkxFRlRfSEFMRiIsIlJJR0hUX0hBTEYiLCJUT1BfSEFMRiIsIkJPVFRPTV9IQUxGIiwiREVGQVVMVF9NT05JVE9SIiwiRFJBRlQiLCJsb2NhbGl6ZURlZmF1bHRNb25pdG9yIiwibG9jYWxpemVkRGVmYXVsdE1vbml0b3IiLCJsb2NhbGl6ZVBvc2l0aW9uIiwibG9jYWxpemVkUG9zaXRpb24iLCJ0b2dnbGVIZWxwIiwiZWxlbWVudElkIiwibm90aWZ5U2Nyb2xsIiwiZHVyYXRpb24iLCJvZmZzZXQiLCJkZWZhdWx0T2Zmc2V0IiwiaXNEZWZpbmVkIiwiY29udGFpbmVyIiwialF1ZXJ5Iiwic3RvcCIsImVsZW1lbnRUb1Njcm9sbCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJpc29wZW4iLCJtYXJrQXNEaXJ0eSIsInVuZG9PcHRpb25zIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUVBQSxTQUFRQyxPQUFPLHlCQUEwQixlQUFnQixjQUFlLFVBQVVDLFdBQVcsK0JBQWdDLFNBQVUsV0FBWSxTQUFVLFFBQVMsUUFBUyxTQUFVQyxFQUFRQyxFQUFVQyxFQUFRQyxFQUFPQyxHQW1HeE4sUUFBU0MsS0FDUCxJQUNFQyxJQUNBQyxJQUNBQyxJQUNBQyxHQUFrQixlQUNsQixNQUFPQyxJQUNOQyxRQUFR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QUFHaUcsZ0JBQWtCQSxFQUVyQmpHLEdBQUcrRCxnQkFBa0JBLEVBRXJCL0QsR0FBR21FLHFCQUF1QkEsRUFFMUJuRSxHQUFHd1IsV0FBYUEsR0FFaEJ2UyIsImZpbGUiOiJzY3JpcHRzL29wdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdtdWx0aVdpbmRvd1Bvc2l0aW9uZXInLCBbJ25nRmlsZVVwbG9hZCcsICd1aS5jaGVja2JveCcsICd1dWlkNCddKS5jb250cm9sbGVyKCdQb3NpdGlvbmVyT3B0aW9uc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckdGltZW91dCcsICdVcGxvYWQnLCAnJGh0dHAnLCAndXVpZDQnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdGltZW91dCwgVXBsb2FkLCAkaHR0cCwgdXVpZDQpIHtcbiAgdmFyIHZtID0gJHNjb3BlO1xuXG4gIHZhciBPUFRJT05TX0tFWSA9ICdUQUJfSEVMUEVSX09QVElPTlMnO1xuICB2YXIgVEFCX0hFTFBFUl9URU1QTEFURV9VUkwgPSAnVEFCX0hFTFBFUl9URU1QTEFURV9VUkwnO1xuXG4gIHZhciBQQUdFX0xPQURJTkdfT0ZGU0VUID0gMTEwMDtcbiAgdmFyIFBBR0VfREVURUNUSU9OX0RJU1BMQVlfSU5URVJWQUwgPSAzOyAvLzMgc2Vjb25kc1xuICB2YXIgTU9OSVRPUlMgPSB7fTtcblxuICB2bS5sb2NhbGUgPSBwcmVwYXJlTG9jYWxlKCk7XG5cbiAgdmFyIFBPU0lUSU9OUyA9IHtcbiAgICBGVUxMU0laRTogeyBpZDogJ2Z1bGxzaXplJywgbmFtZTogJ0Z1bGxzaXplJyB9LFxuICAgIENFTlRFUjogeyBpZDogJ2NlbnRlcicsIG5hbWU6IHZtLmxvY2FsZS5NQVhJTUlaRUQgfSxcbiAgICBMRUZUX0hBTEY6IHsgaWQ6ICdsZWZ0LWhhbGYnLCBuYW1lOiB2bS5sb2NhbGUuTEVGVF9IQUxGIH0sXG4gICAgUklHSFRfSEFMRjogeyBpZDogJ3JpZ2h0LWhhbGYnLCBuYW1lOiB2bS5sb2NhbGUuUklHSFRfSEFMRiB9LFxuICAgIFRPUF9IQUxGOiB7IGlkOiAndG9wLWhhbGYnLCBuYW1lOiB2bS5sb2NhbGUuVE9QX0hBTEYgfSxcbiAgICBCT1RUT01fSEFMRjogeyBpZDogJ2JvdHRvbS1oYWxmJywgbmFtZTogdm0ubG9jYWxlLkJPVFRPTV9IQUxGIH1cbiAgfTtcblxuICB2YXIgREVGQVVMVF9NT05JVE9SUyA9IHtcbiAgICBNQUlOX01PTklUT1I6IHsgaWQ6ICdtYWluLW1vbml0b3InLCBuYW1lOiB2bS5sb2NhbGUuTUFJTl9NT05JVE9SIH0sXG4gICAgTk9UX01BSU5fTU9OSVRPUjogeyBpZDogJ25vdC1tYWluLW1vbml0b3InLCBuYW1lOiB2bS5sb2NhbGUuTk9UX01BSU5fTU9OSVRPUiB9LFxuICAgIEJJR0dFU1RfUkVTT0xVVElPTjogeyBpZDogJ2JpZ2dlc3QtYXJlYScsIG5hbWU6IHZtLmxvY2FsZS5CSUdHRVNUX1JFU09MVVRJT04gfSxcbiAgICBCSUdHRVNUX0hFSUdIVDogeyBpZDogJ2JpZ2dlc3QtaGVpZ2h0JywgbmFtZTogdm0ubG9jYWxlLkJJR0dFU1RfSEVJR0hUIH0sXG4gICAgQklHR0VTVF9XSURUSDogeyBpZDogJ2JpZ2dlc3Qtd2lkdGgnLCBuYW1lOiB2bS5sb2NhbGUuQklHR0VTVF9XSURUSCB9LFxuICAgIFNNQUxMRVNUX1JFU09MVVRJT046IHsgaWQ6ICdzbWFsbGVzdC1hcmVhJywgbmFtZTogdm0ubG9jYWxlLlNNQUxMRVNUX1JFU09MVVRJT04gfSxcbiAgICBTTUFMTEVTVF9IRUlHSFQ6IHsgaWQ6ICdzbWFsbGVzdC1oZWlnaHQnLCBuYW1lOiB2bS5sb2NhbGUuU01BTExFU1RfSEVJR0hUIH0sXG4gICAgU01BTExFU1RfV0lEVEg6IHsgaWQ6ICdzbWFsbGVzdC13aWR0aCcsIG5hbWU6IHZtLmxvY2FsZS5TTUFMTEVTVF9XSURUSCB9XG4gIH07XG5cbiAgdm0uUE9TSVRJT05TID0gUE9TSVRJT05TO1xuICB2bS5NT05JVE9SUyA9IE1PTklUT1JTO1xuICB2bS5ERUZBVUxUX01PTklUT1JTID0gREVGQVVMVF9NT05JVE9SUztcblxuICB2bS53aW5kb3dIYW5kbGVycyA9IHt9O1xuICB2bS5vcHRpb25zID0gbnVsbDtcblxuICB2bS5zaG93TmV3VGFiT3B0aW9uID0gZmFsc2U7XG4gIHZtLnNob3dFZGl0VGFiT3B0aW9uID0gZmFsc2U7XG5cbiAgdm0uc2hvd0ltcG9ydFRlbXBsYXRlRGlhbG9nID0gZmFsc2U7XG4gIHZtLmluY29uc2lzdGVudE9wdGlvbnMgPSBmYWxzZTtcbiAgdm0uZGlydHkgPSBmYWxzZTtcbiAgdm0uc2hvd0V4dHJhT3B0aW9ucyA9IGZhbHNlO1xuICB2bS5zaG93c0hlbHAgPSBmYWxzZTtcbiAgdm0uaXNvcGVuID0gdHJ1ZTtcbiAgdm0uc2hvd0ltcG9ydFRlbXBsYXRlRGlhbG9nID0gZmFsc2U7XG4gIHZtLnRlbXBsYXRlVXJsID0gJyc7XG4gIHZtLnJlcGxhY2VBbGxUZW1wbGF0ZXMgPSB0cnVlO1xuXG4gIHZtLmxvY2FsaXplRGVmYXVsdE1vbml0b3IgPSBsb2NhbGl6ZURlZmF1bHRNb25pdG9yO1xuICB2bS5sb2NhbGl6ZVBvc2l0aW9uID0gbG9jYWxpemVQb3NpdGlvbjtcbiAgdm0ubWFya0FzRGlydHkgPSBtYXJrQXNEaXJrO1xuICB2bS5zYXZlT3B0aW9ucyA9IHNhdmVPcHRpb25zO1xuICB2bS5sb2FkT3B0aW9ucyA9IGxvYWRPcHRpb25zO1xuICB2bS51bmRvT3B0aW9ucyA9IGxvYWRPcHRpb25zO1xuICB2bS5yZWxvYWRPcHRpb25zID0gcmVsb2FkT3B0aW9ucztcbiAgdm0uZGV0ZWN0TW9uaXRvcnMgPSBkZXRlY3RNb25pdG9ycztcbiAgdm0uc2hvd0FkdmFuY2VkT3B0aW9ucyA9IHNob3dBZHZhbmNlZE9wdGlvbnM7XG4gIHZtLmFkZFRhYk9wdGlvbiA9IGFkZFRhYk9wdGlvbjtcbiAgdm0uc2F2ZVRhYk9wdGlvbiA9IHNhdmVUYWJPcHRpb247XG4gIHZtLnNhdmVUYWJPcHRpb24xID0gc2F2ZVRhYk9wdGlvbjE7XG4gIHZtLnVwZGF0ZVRhYk9wdGlvbiA9IHVwZGF0ZVRhYk9wdGlvbjtcbiAgdm0uZWRpdFRhYk9wdGlvbiA9IGVkaXRUYWJPcHRpb247XG4gIHZtLnVzZVRlbXBsYXRlQXNPcHRpb24gPSB1c2VUZW1wbGF0ZUFzT3B0aW9uO1xuXG4gIHZtLmFkZFBvc2l0aW9uID0gYWRkUG9zaXRpb247XG4gIHZtLnNldEN1c3RvbVBvc2l0aW9uQXNNb25pdG9yID0gc2V0Q3VzdG9tUG9zaXRpb25Bc01vbml0b3I7XG5cbiAgdm0uYXBwbHlQb3NpdGlvblRvQWxsID0gYXBwbHlQb3NpdGlvblRvQWxsO1xuICB2bS5hcHBseU1vbml0b3JUb0FsbCA9IGFwcGx5TW9uaXRvclRvQWxsO1xuXG4gIHZtLmF1dG9maXhPcHRpb25zID0gYXV0b2ZpeE9wdGlvbnM7XG4gIHZtLnZhbGlkYXRlT3B0aW9ucyA9IHZhbGlkYXRlT3B0aW9ucztcblxuICB2bS5tb3ZlT3B0aW9uVXAgPSBtb3ZlT3B0aW9uVXA7XG4gIHZtLm1vdmVPcHRpb25Eb3duID0gbW92ZU9wdGlvbkRvd247XG5cbiAgdm0uaW1wb3J0VGVtcGxhdGUgPSBpbXBvcnRUZW1wbGF0ZTtcbiAgdm0ub3BlbkltcG9ydFRlbXBsYXRlTWVudSA9IG9wZW5JbXBvcnRUZW1wbGF0ZU1lbnU7XG4gIHZtLmFjY2VwdEltcG9ydFRlbXBsYXRlTWVudSA9IGFjY2VwdEltcG9ydFRlbXBsYXRlTWVudTtcbiAgdm0uY2FuY2VsSW1wb3J0VGVtcGxhdGVNZW51ID0gY2FuY2VsSW1wb3J0VGVtcGxhdGVNZW51O1xuICB2bS5leHBvcnRUZW1wbGF0ZSA9IGV4cG9ydFRlbXBsYXRlO1xuXG4gIHZtLmNhbmNlbFRhYk9wdGlvbiA9IGNhbmNlbFRhYk9wdGlvbjtcblxuICB2bS5kZWxldGVUYWJPcHRpb24gPSBkZWxldGVUYWJPcHRpb247XG5cbiAgdm0uZGVsZXRlUG9zaXRpb25PcHRpb24gPSBkZWxldGVQb3NpdGlvbk9wdGlvbjtcblxuICB2bS50b2dnbGVIZWxwID0gdG9nZ2xlSGVscDtcblxuICBhY3RpdmF0ZSgpO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbiAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvYWRPcHRpb25zKCk7XG4gICAgICBsb2FkRGlzcGxheUluZm9zKCk7XG4gICAgICByZWdpc3RlclBvc3RNZXNzYWdlTGlzdGVuZXIoKTtcbiAgICAgIGRvU2Nyb2xsVG9FbGVtZW50KCd0b3Atc2VjdGlvbicpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlQb3NpdGlvblRvQWxsKHBvc2l0aW9uSWQpIHtcbiAgICBfLmZvckVhY2godm0ub3B0aW9ucy50YWJzLCBmdW5jdGlvbiAodGFiLCBpZHgpIHtcbiAgICAgIHRhYi5wb3NpdGlvbiA9IHBvc2l0aW9uSWQ7XG4gICAgfSk7XG4gICAgbWFya0FzRGlyaygpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlNb25pdG9yVG9BbGwoZGlzcGxheUlkKSB7XG4gICAgdmFyIG1vbml0b3IgPSBnZXREaXNwbGF5QnlJZChkaXNwbGF5SWQpO1xuICAgIF8uZm9yRWFjaCh2bS5vcHRpb25zLnRhYnMsIGZ1bmN0aW9uICh0YWIsIGlkeCkge1xuICAgICAgdGFiLm1vbml0b3IgPSBtb25pdG9yO1xuICAgIH0pO1xuICAgIG1hcmtBc0RpcmsoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyUG9zdE1lc3NhZ2VMaXN0ZW5lcigpIHtcbiAgICB0cnkge1xuICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlRXh0ZXJuYWwuYWRkTGlzdGVuZXIob25NZXNzYWdlRXh0ZXJuYWxMaXN0ZW5lcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykuY2FsbChjb25zb2xlLCBlcnIuc3RhY2sgfHwgZXJyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlRXh0ZXJuYWxMaXN0ZW5lcihyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcXVlc3QuY2xvc2VQYWdlR2VuZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIGdyb3VwSWQgPSByZXF1ZXN0LmNsb3NlUGFnZUdlbmVyYXRvcjtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdm0ud2luZG93SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGlmICh2bS53aW5kb3dIYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgIHZhciB3aW5kb3dIYW5kbGVyID0gdm0ud2luZG93SGFuZGxlcnNba2V5XTtcbiAgICAgICAgICAgICAgaWYgKHdpbmRvd0hhbmRsZXIuZ3JvdXBJZCA9PT0gZ3JvdXBJZCkge1xuICAgICAgICAgICAgICAgIGNsb3NlV2luZG93QnlIYW5kbGVyKHdpbmRvd0hhbmRsZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VXaW5kb3dCeUhhbmRsZXIod2luZG93SGFuZGxlcikge1xuICAgIHRyeSB7XG4gICAgICBpZiAodm0ud2luZG93SGFuZGxlcnNbd2luZG93SGFuZGxlci51dWlkXSkge1xuICAgICAgICBjaHJvbWUud2luZG93cy5yZW1vdmUod2luZG93SGFuZGxlci5pZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRlbGV0ZSB2bS53aW5kb3dIYW5kbGVyc1t3aW5kb3dIYW5kbGVyLnV1aWRdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdmVkIHdpbmRvdyAnICsgd2luZG93SGFuZGxlci5pZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0FkdmFuY2VkT3B0aW9ucygpIHtcbiAgICB2bS5zaG93RXh0cmFPcHRpb25zID0gIXZtLnNob3dFeHRyYU9wdGlvbnM7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkRGlzcGxheUluZm9zKCkge1xuICAgIGNocm9tZS5zeXN0ZW0uZGlzcGxheS5nZXRJbmZvKGZ1bmN0aW9uIChkaXNwbGF5SW5mb3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZtLmRpc3BsYXlJbmZvcyA9IGFuZ3VsYXIuY29weShkaXNwbGF5SW5mb3MpO1xuICAgICAgICBjb25zb2xlLnRhYmxlKGRpc3BsYXlJbmZvcyk7XG4gICAgICAgIF8uZm9yRWFjaCh2bS5kaXNwbGF5SW5mb3MsIGZ1bmN0aW9uIChkaXNwbGF5LCBpZHgpIHtcbiAgICAgICAgICBkaXNwbGF5LmlkeCA9IGlkeCArIDE7XG4gICAgICAgICAgdmFyIG1vbml0b3IgPSB7XG4gICAgICAgICAgICBpZDogZGlzcGxheS5pZCxcbiAgICAgICAgICAgIGlkeDogZGlzcGxheS5pZHgsXG4gICAgICAgICAgICBuYW1lOiBkaXNwbGF5Lm5hbWUsIC8vZGlzcGxheS5pZHggKyAnICcgKyBkaXNwbGF5Lm5hbWUsXG4gICAgICAgICAgICB3b3JrQXJlYTogZGlzcGxheS53b3JrQXJlYVxuICAgICAgICAgIH07XG4gICAgICAgICAgTU9OSVRPUlNbbW9uaXRvci5pZF0gPSBtb25pdG9yO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhbGlkYXRlT3B0aW9ucygpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykuY2FsbChjb25zb2xlLCBlcnIuc3RhY2sgfHwgZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVjdE1vbml0b3JzKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgZ3JvdXBJZCA9IHV1aWQ0LmdlbmVyYXRlKCk7XG5cbiAgICAgIF8uZm9yRWFjaCh2bS5kaXNwbGF5SW5mb3MsIGZ1bmN0aW9uIChkaXNwbGF5LCBpZHgpIHtcbiAgICAgICAgdmFyIGRldGVjdGlvblVybCA9ICdodHRwczovL2lnb3JsaW5vLmdpdGh1Yi5pby9wYWdlLWdlbmVyYXRvci8/ICcgKyAndGl0bGU9TW9uaXRvciUyMCcgKyAoaWR4ICsgMSkgKyAnJnR5cGU9bW9uaXRvciZpZD0nICsgKGlkeCArIDEpICsgJyZncm91cGlkPScgKyBncm91cElkICsgJyZleHRpZD0nICsgY2hyb21lLnJ1bnRpbWUuaWQgKyAnJmRlbGF5PScgKyBQQUdFX0RFVEVDVElPTl9ESVNQTEFZX0lOVEVSVkFMO1xuICAgICAgICB2YXIgY3JlYXRlRGF0YSA9IHtcbiAgICAgICAgICB1cmw6IGRldGVjdGlvblVybCxcbiAgICAgICAgICBsZWZ0OiBkaXNwbGF5LndvcmtBcmVhLmxlZnQsXG4gICAgICAgICAgdG9wOiBkaXNwbGF5LndvcmtBcmVhLnRvcCxcbiAgICAgICAgICB3aWR0aDogZGlzcGxheS53b3JrQXJlYS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGRpc3BsYXkud29ya0FyZWEuaGVpZ2h0LFxuICAgICAgICAgIHR5cGU6ICdwb3B1cCdcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHdpbmRvd0hhbmRsZXIgPSB7XG4gICAgICAgICAgZ3JvdXBJZDogZ3JvdXBJZCxcbiAgICAgICAgICB1dWlkOiB1dWlkNC5nZW5lcmF0ZSgpLFxuICAgICAgICAgIGhhbmRsZXI6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgLy9jbG9zZS1wYWdlLWdlbmVyYXRvcidcbiAgICAgICAgd2luZG93SGFuZGxlci5oYW5kbGVyID0gY2hyb21lLndpbmRvd3MuY3JlYXRlKGNyZWF0ZURhdGEsIGZ1bmN0aW9uIG9uV2luZG93c0NyZWF0ZWQod2luZG93KSB7XG4gICAgICAgICAgd2luZG93SGFuZGxlci5pZCA9IHdpbmRvdy5pZDtcbiAgICAgICAgICB2bS53aW5kb3dIYW5kbGVyc1t3aW5kb3dIYW5kbGVyLnV1aWRdID0gd2luZG93SGFuZGxlcjtcbiAgICAgICAgICBjb25zb2xlLmxvZygnV2luZG93ICcgKyB3aW5kb3cuaWQgKyAnIGNyZWF0ZWQuJyk7XG4gICAgICAgICAgY2hyb21lLndpbmRvd3MudXBkYXRlKHdpbmRvdy5pZCwgeyBzdGF0ZTogJ21heGltaXplZCcgfSwgZnVuY3Rpb24gb25VcGRhdGVkKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ01heGltaXplZCBkZXRlY3Rpb24gd2luZG93Jyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3Zpbmcgd2luZG93ICcgKyB3aW5kb3cuaWQpO1xuICAgICAgICAgICAgY2xvc2VXaW5kb3dCeUhhbmRsZXIod2luZG93SGFuZGxlcik7XG4gICAgICAgICAgfSwgUEFHRV9ERVRFQ1RJT05fRElTUExBWV9JTlRFUlZBTCAqIDEwMDAgKyBQQUdFX0xPQURJTkdfT0ZGU0VUKTsgLy8rODAwbXMgdG8gb2Zmc2V0IGRldGVjdCBwYWdlIGxvYWRpbmdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIChjb25zb2xlLmVycm9yIHx8IGNvbnNvbGUubG9nKS5jYWxsKGNvbnNvbGUsIGVyci5zdGFjayB8fCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByaW1hcnlEaXNwbGF5KCkge1xuICAgIHZhciBmb3VuZCA9IG51bGw7XG4gICAgXy5mb3JFYWNoKHZtLmRpc3BsYXlJbmZvcywgZnVuY3Rpb24gKGRpc3BsYXksIGlkeCkge1xuICAgICAgY29uc29sZS5sb2coZGlzcGxheSk7XG4gICAgICBpZiAoZGlzcGxheS5pc1ByaW1hcnkpIHtcbiAgICAgICAgZm91bmQgPSBkaXNwbGF5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaXNwbGF5QnlJZChpZCkge1xuICAgIHZhciBmb3VuZCA9IG51bGw7XG4gICAgXy5mb3JFYWNoKHZtLmRpc3BsYXlJbmZvcywgZnVuY3Rpb24gKGRpc3BsYXksIGlkeCkge1xuICAgICAgaWYgKGRpc3BsYXkuaWQgPT09IGlkKSB7XG4gICAgICAgIGZvdW5kID0gZGlzcGxheTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVRhYk9wdGlvbih0YWJPcHRpb24pIHtcbiAgICBfLnJlbW92ZSh2bS5vcHRpb25zLnRhYnMsIGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHJldHVybiBvcHRpb24udGltZXN0YW1wID09PSB0YWJPcHRpb24udGltZXN0YW1wO1xuICAgIH0pO1xuICAgIG1hcmtBc0RpcmsoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVBvc2l0aW9uT3B0aW9uKHBvc2l0aW9uVG9EZWxldGUpIHtcbiAgICBfLnJlbW92ZSh2bS5vcHRpb25zLnBvc2l0aW9ucywgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gcG9zaXRpb25Ub0RlbGV0ZS5uYW1lID09PSBwb3NpdGlvbi5uYW1lO1xuICAgIH0pO1xuICAgIG1hcmtBc0RpcmsoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRhYk9wdGlvbigpIHtcbiAgICB2bS5zaG93TmV3VGFiT3B0aW9uID0gdHJ1ZTtcbiAgICB2bS5uZXdUYWJPcHRpb24gPSBjcmVhdGVOZXdPcHRpb24oKTtcbiAgICB2bS5uZXdUYWJPcHRpb24udGVtcGxhdGUgPSBudWxsO1xuICAgIGNvbnNvbGUubG9nKCdkaGFzZ2JzZGFzJyArIGdldFByaW1hcnlEaXNwbGF5KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Q3VzdG9tUG9zaXRpb25Bc01vbml0b3IocG9zaXRpb24sIG1vbml0b3IpIHtcbiAgICBwb3NpdGlvbi54ID0gbW9uaXRvci53b3JrQXJlYS5sZWZ0O1xuICAgIHBvc2l0aW9uLnkgPSBtb25pdG9yLndvcmtBcmVhLnRvcDtcbiAgICBwb3NpdGlvbi53aWR0aCA9IG1vbml0b3Iud29ya0FyZWEud2lkdGg7XG4gICAgcG9zaXRpb24uaGVpZ2h0ID0gbW9uaXRvci53b3JrQXJlYS5oZWlnaHQ7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRQb3NpdGlvbigpIHtcbiAgICB2bS5vcHRpb25zLnBvc2l0aW9ucy5wdXNoKHtcbiAgICAgIG5hbWU6ICdDdXN0b21Qb3NpdGlvbicgKyB2bS5vcHRpb25zLnBvc2l0aW9ucy5sZW5ndGgsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIGhlaWdodDogMTAsXG4gICAgICB3aWR0aDogMTBcbiAgICB9KTtcbiAgICBtYXJrQXNEaXJrKCk7XG4gIH1cblxuICBmdW5jdGlvbiBlZGl0VGFiT3B0aW9uKHRhYk9wdGlvbikge1xuICAgIHZtLnNob3dFZGl0VGFiT3B0aW9uID0gdHJ1ZTtcbiAgICB2bS5uZXdUYWJPcHRpb24gPSBhbmd1bGFyLmNvcHkodGFiT3B0aW9uKTtcbiAgICB2bS5uZXdUYWJPcHRpb24ucG9zaXRpb24gPSBmaW5kUG9zaXRpb25CeUlkKHRhYk9wdGlvbi5wb3NpdGlvbik7XG4gICAgdm0ubmV3VGFiT3B0aW9uLmRlZmF1bHRNb25pdG9yID0gZmluZERlZmF1bHRNb25pdG9yQnlJZCh0YWJPcHRpb24uZGVmYXVsdE1vbml0b3IpO1xuICAgIHZtLm5ld1RhYk9wdGlvbi5tb25pdG9yID0gZ2V0RGlzcGxheUJ5SWQodGFiT3B0aW9uLm1vbml0b3IuaWQpO1xuICAgIHZtLmVkaXRUYWJPcHRpb25JZHggPSBfLmZpbmRJbmRleCh2bS5vcHRpb25zLnRhYnMsIHRhYk9wdGlvbik7XG4gICAgdm0ubmV3VGFiT3B0aW9uLnRlbXBsYXRlID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZVRlbXBsYXRlQXNPcHRpb24oKSB7XG4gICAgaWYgKHZtLm5ld1RhYk9wdGlvbi50ZW1wbGF0ZSkge1xuICAgICAgdm0ubmV3VGFiT3B0aW9uLm5hbWUgPSB2bS5uZXdUYWJPcHRpb24udGVtcGxhdGUubmFtZTtcbiAgICAgIHZtLm5ld1RhYk9wdGlvbi51cmwgPSB2bS5uZXdUYWJPcHRpb24udGVtcGxhdGUudXJsO1xuICAgICAgdm0ubmV3VGFiT3B0aW9uLmNvZGUgPSB2bS5uZXdUYWJPcHRpb24udGVtcGxhdGUuY29kZTtcbiAgICAgIHZtLm5ld1RhYk9wdGlvbi5hY3RpdmUgPSB2bS5uZXdUYWJPcHRpb24udGVtcGxhdGUuYWN0aXZlO1xuICAgICAgdm0ubmV3VGFiT3B0aW9uLnJlbWVtYmVyID0gdm0ubmV3VGFiT3B0aW9uLnRlbXBsYXRlLnJlbWVtYmVyO1xuICAgICAgaWYgKHZtLm5ld1RhYk9wdGlvbi50ZW1wbGF0ZS5kZWZhdWx0TW9uaXRvcikge1xuICAgICAgICB2bS5uZXdUYWJPcHRpb24uZGVmYXVsdE1vbml0b3IgPSBmaW5kRGVmYXVsdE1vbml0b3JCeUlkKHZtLm5ld1RhYk9wdGlvbi50ZW1wbGF0ZS5kZWZhdWx0TW9uaXRvcik7XG4gICAgICB9XG4gICAgICBpZiAodm0ubmV3VGFiT3B0aW9uLnRlbXBsYXRlLnBvc2l0aW9uKSB7XG4gICAgICAgIHZtLm5ld1RhYk9wdGlvbi5wb3NpdGlvbiA9IGZpbmRQb3NpdGlvbkJ5SWQodm0ubmV3VGFiT3B0aW9uLnRlbXBsYXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kRGVmYXVsdE1vbml0b3JCeUlkKGRlZmF1bHRNb25pdG9ySWQpIHtcbiAgICB2YXIga2V5ID0gXy5maW5kS2V5KERFRkFVTFRfTU9OSVRPUlMsIGZ1bmN0aW9uIChkZWZhdWx0TW9uaXRvcikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb25pdG9yLmlkID09PSBkZWZhdWx0TW9uaXRvcklkO1xuICAgIH0pO1xuICAgIHJldHVybiBrZXkgPyBERUZBVUxUX01PTklUT1JTW2tleV0gOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFBvc2l0aW9uQnlJZChwb3NpdGlvbklkKSB7XG4gICAgdmFyIHBvc2l0aW9uS2V5ID0gXy5maW5kS2V5KFBPU0lUSU9OUywgZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gcG9zaXRpb24uaWQgPT09IHBvc2l0aW9uSWQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBvc2l0aW9uS2V5ID8gUE9TSVRJT05TW3Bvc2l0aW9uS2V5XSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWxUYWJPcHRpb24oKSB7XG4gICAgdm0uc2hvd05ld1RhYk9wdGlvbiA9IGZhbHNlO1xuICAgIHZtLnNob3dFZGl0VGFiT3B0aW9uID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUYWJPcHRpb24oKSB7XG4gICAgdm0uc2hvd0VkaXRUYWJPcHRpb24gPSBmYWxzZTtcbiAgICB2bS5vcHRpb25zLnRhYnNbdm0uZWRpdFRhYk9wdGlvbklkeF0gPSB7XG4gICAgICBhY3RpdmU6IHZtLm5ld1RhYk9wdGlvbi5hY3RpdmUsXG4gICAgICBjb2RlOiB2bS5uZXdUYWJPcHRpb24uY29kZSxcbiAgICAgIHJlbWVtYmVyOiB2bS5uZXdUYWJPcHRpb24ucmVtZW1iZXIsXG4gICAgICB1cmw6IHZtLm5ld1RhYk9wdGlvbi51cmwsXG4gICAgICBuYW1lOiB2bS5uZXdUYWJPcHRpb24ubmFtZSxcbiAgICAgIG1vbml0b3I6IHZtLm5ld1RhYk9wdGlvbi5tb25pdG9yLFxuICAgICAgZnVsbFNjcmVlbjogdm0ubmV3VGFiT3B0aW9uLmZ1bGxTY3JlZW4sXG4gICAgICBwb3B1cDogdm0ubmV3VGFiT3B0aW9uLnBvcHVwLFxuICAgICAgcG9zaXRpb246IHZtLm5ld1RhYk9wdGlvbi5wb3NpdGlvbiA/IHZtLm5ld1RhYk9wdGlvbi5wb3NpdGlvbi5pZCA6IE1PTklUT1JTLkNFTlRFUi5pZCxcbiAgICAgIGRlZmF1bHRNb25pdG9yOiB2bS5uZXdUYWJPcHRpb24uZGVmYXVsdE1vbml0b3IgPyB2bS5uZXdUYWJPcHRpb24uZGVmYXVsdE1vbml0b3IuaWQgOiBERUZBVUxUX01PTklUT1JTLk1BSU5fTU9OSVRPUi5pZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICB2bS5lZGl0VGFiT3B0aW9uSWR4ID0gLTE7XG4gICAgdmFsaWRhdGVPcHRpb25zKCk7XG4gICAgbWFya0FzRGlyaygpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZVRhYk9wdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdm0ub3B0aW9ucy50YWJzLnB1c2goe1xuICAgICAgICBhY3RpdmU6IHZtLm5ld1RhYk9wdGlvbi5hY3RpdmUsXG4gICAgICAgIGNvZGU6IHZtLm5ld1RhYk9wdGlvbi5jb2RlLFxuICAgICAgICByZW1lbWJlcjogdm0ubmV3VGFiT3B0aW9uLnJlbWVtYmVyLFxuICAgICAgICB1cmw6IHZtLm5ld1RhYk9wdGlvbi51cmwsXG4gICAgICAgIG5hbWU6IHZtLm5ld1RhYk9wdGlvbi5uYW1lLFxuICAgICAgICBtb25pdG9yOiB2bS5uZXdUYWJPcHRpb24ubW9uaXRvcixcbiAgICAgICAgZnVsbFNjcmVlbjogdm0ubmV3VGFiT3B0aW9uLmZ1bGxTY3JlZW4sXG4gICAgICAgIHBvcHVwOiB2bS5uZXdUYWJPcHRpb24ucG9wdXAsXG4gICAgICAgIHBvc2l0aW9uOiB2bS5uZXdUYWJPcHRpb24ucG9zaXRpb24gPyB2bS5uZXdUYWJPcHRpb24ucG9zaXRpb24uaWQgOiBNT05JVE9SUy5DRU5URVIuaWQsXG4gICAgICAgIGRlZmF1bHRNb25pdG9yOiB2bS5uZXdUYWJPcHRpb24uZGVmYXVsdE1vbml0b3IgPyB2bS5uZXdUYWJPcHRpb24uZGVmYXVsdE1vbml0b3IuaWQgOiBERUZBVUxUX01PTklUT1JTLk1BSU5fTU9OSVRPUi5pZCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgICAgdm0uc2hvd05ld1RhYk9wdGlvbiA9IGZhbHNlO1xuICAgICAgdmFsaWRhdGVPcHRpb25zKCk7XG4gICAgICBtYXJrQXNEaXJrKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykuY2FsbChjb25zb2xlLCBlcnIuc3RhY2sgfHwgZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlVGFiT3B0aW9uMSgpIHtcbiAgICB2bS5uZXdUYWJPcHRpb24gPSBjcmVhdGVOZXdPcHRpb24xKCk7XG4gICAgdm0ubmV3VGFiT3B0aW9uLnRlbXBsYXRlID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgdm0ub3B0aW9ucy50YWJzLnB1c2goe1xuICAgICAgICBhY3RpdmU6IHZtLm5ld1RhYk9wdGlvbi5hY3RpdmUsXG4gICAgICAgIGNvZGU6IHZtLm5ld1RhYk9wdGlvbi5jb2RlLFxuICAgICAgICByZW1lbWJlcjogdm0ubmV3VGFiT3B0aW9uLnJlbWVtYmVyLFxuICAgICAgICB1cmw6IHZtLm5ld1RhYk9wdGlvbi51cmwsXG4gICAgICAgIG5hbWU6IHZtLm5ld1RhYk9wdGlvbi5uYW1lLFxuICAgICAgICBtb25pdG9yOiB2bS5uZXdUYWJPcHRpb24ubW9uaXRvcixcbiAgICAgICAgZnVsbFNjcmVlbjogdm0ubmV3VGFiT3B0aW9uLmZ1bGxTY3JlZW4sXG4gICAgICAgIHBvcHVwOiB0cnVlLFxuICAgICAgICBwb3NpdGlvbjogdm0ubmV3VGFiT3B0aW9uLnBvc2l0aW9uID8gdm0ubmV3VGFiT3B0aW9uLnBvc2l0aW9uLmlkIDogTU9OSVRPUlMuQ0VOVEVSLmlkLFxuICAgICAgICBkZWZhdWx0TW9uaXRvcjogdm0ubmV3VGFiT3B0aW9uLmRlZmF1bHRNb25pdG9yID8gdm0ubmV3VGFiT3B0aW9uLmRlZmF1bHRNb25pdG9yLmlkIDogREVGQVVMVF9NT05JVE9SUy5NQUlOX01PTklUT1IuaWQsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHZhbGlkYXRlT3B0aW9ucygpO1xuICAgICAgbWFya0FzRGlyaygpO1xuICAgICAgY29uc29sZS5sb2codm0ubmV3VGFiT3B0aW9uLm1vbml0b3IpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZU9wdGlvbnMoKSB7XG4gICAgbG9jYWxTdG9yYWdlW09QVElPTlNfS0VZXSA9IEpTT04uc3RyaW5naWZ5KHZtLm9wdGlvbnMpO1xuICAgIG1hcmtBc1ByaXN0aW5lKCk7XG4gICAgLy9jbG9zZUN1cnJlbnRXaW5kb3coKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlQ3VycmVudFdpbmRvdygpIHtcbiAgICBjaHJvbWUudGFicy5nZXRDdXJyZW50KGZ1bmN0aW9uICh0YWIpIHtcbiAgICAgIGNocm9tZS50YWJzLnJlbW92ZSh0YWIuaWQsIGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtBc0RpcmsoKSB7XG4gICAgdm0uZGlydHkgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya0FzUHJpc3RpbmUoKSB7XG4gICAgdm0uZGlydHkgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRPcHRpb25zKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdGFiUnVsZU9wdGlvbnMgPSBsb2NhbFN0b3JhZ2VbT1BUSU9OU19LRVldO1xuICAgICAgaWYgKHRhYlJ1bGVPcHRpb25zKSB7XG4gICAgICAgIHZtLm9wdGlvbnMgPSBKU09OLnBhcnNlKHRhYlJ1bGVPcHRpb25zKTtcbiAgICAgICAgaWYgKCF2bS5vcHRpb25zLnRhYnMpIHtcbiAgICAgICAgICB2bS5vcHRpb25zLnRhYnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZtLm9wdGlvbnMucG9zaXRpb25zKSB7XG4gICAgICAgICAgdm0ub3B0aW9ucy5wb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtYXJrQXNQcmlzdGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcbiAgICAgICAgICB0YWJzOiBbXSxcbiAgICAgICAgICBwb3NpdGlvbnM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIG1hcmtBc0RpcmsoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdm0ub3B0aW9ucy50ZW1wbGF0ZXMgfHwgdm0ub3B0aW9ucy50ZW1wbGF0ZXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgdm0ub3B0aW9ucy50ZW1wbGF0ZXMgPSBnZXREZWZhdWx0VGVtcGxhdGVzKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykuY2FsbChjb25zb2xlLCBlcnIuc3RhY2sgfHwgZXJyKTtcbiAgICB9XG4gICAgLy9zaG93IGhlbHAgYnkgZGVmYXVsdCBpZiBubyBydWxlIGhhcyB5ZXQgYmVlbiBzZXRcbiAgICBpZiAoIXZtLnNob3dzSGVscCAmJiB2bS5vcHRpb25zLnRhYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB2bS5zaG93c0hlbHAgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdm0ub3B0aW9ucztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbG9hZE9wdGlvbnMoKSB7XG4gICAgbG9hZE9wdGlvbnMoKTtcbiAgICB2YWxpZGF0ZU9wdGlvbnMoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1hcHBlZERlZmF1bHRNb25pdG9yQnlJZChkZWZhdWx0TW9uaXRvcnMsIGRlZmF1bHRNb25pdG9ySWQpIHtcbiAgICB2YXIgZm91bmQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoZGVmYXVsdE1vbml0b3JJZCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdE1vbml0b3JzKSB7XG4gICAgICAgICAgaWYgKGRlZmF1bHRNb25pdG9ycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdE1vbml0b3IgPSBkZWZhdWx0TW9uaXRvcnNba2V5XTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0TW9uaXRvcklkID09PSBkZWZhdWx0TW9uaXRvci5pZCkge1xuICAgICAgICAgICAgICBmb3VuZCA9IGRlZmF1bHRNb25pdG9yLm1vbml0b3I7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRNb25pdG9yc01hcHBpbmcoKSB7XG4gICAgdmFyIGRlZmF1bHRNb25pdG9ycyA9IGFuZ3VsYXIuY29weShERUZBVUxUX01PTklUT1JTKTtcbiAgICB0cnkge1xuICAgICAgXy5mb3JFYWNoKHZtLmRpc3BsYXlJbmZvcywgZnVuY3Rpb24gKGRpc3BsYXksIGlkeCkge1xuICAgICAgICBpZiAoZGlzcGxheS5pc0VuYWJsZWQpIHtcbiAgICAgICAgICB2YXIgZGlzcGxheVdvcmtBcmVhID0gZGlzcGxheS53b3JrQXJlYTtcbiAgICAgICAgICB2YXIgYXJlYSA9IGRpc3BsYXlXb3JrQXJlYS5oZWlnaHQgKiBkaXNwbGF5V29ya0FyZWEud2lkdGg7XG5cbiAgICAgICAgICBpZiAoZGlzcGxheS5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgIGRlZmF1bHRNb25pdG9ycy5NQUlOX01PTklUT1IubW9uaXRvciA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlzcGxheS5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgIGlmICghZGVmYXVsdE1vbml0b3JzLk5PVF9NQUlOX01PTklUT1IubW9uaXRvcikge1xuICAgICAgICAgICAgICBkZWZhdWx0TW9uaXRvcnMuTk9UX01BSU5fTU9OSVRPUi5tb25pdG9yID0gZGlzcGxheTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBub3RNYWluUmVzb2x1dGlvbiA9IGRlZmF1bHRNb25pdG9ycy5OT1RfTUFJTl9NT05JVE9SLm1vbml0b3Iud29ya0FyZWEuaGVpZ2h0ICogZGVmYXVsdE1vbml0b3JzLk5PVF9NQUlOX01PTklUT1IubW9uaXRvci53b3JrQXJlYS53aWR0aDtcbiAgICAgICAgICAgICAgaWYgKGFyZWEgPiBub3RNYWluUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNb25pdG9ycy5OT1RfTUFJTl9NT05JVE9SLm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGVmYXVsdE1vbml0b3JzLkJJR0dFU1RfUkVTT0xVVElPTi5tb25pdG9yKSB7XG4gICAgICAgICAgICBkZWZhdWx0TW9uaXRvcnMuQklHR0VTVF9SRVNPTFVUSU9OLm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYmlnZ2VzdFJlc29sdXRpb24gPSBkZWZhdWx0TW9uaXRvcnMuQklHR0VTVF9SRVNPTFVUSU9OLm1vbml0b3Iud29ya0FyZWEuaGVpZ2h0ICogZGVmYXVsdE1vbml0b3JzLkJJR0dFU1RfUkVTT0xVVElPTi5tb25pdG9yLndvcmtBcmVhLndpZHRoO1xuICAgICAgICAgICAgaWYgKGFyZWEgPiBiaWdnZXN0UmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICBkZWZhdWx0TW9uaXRvcnMuQklHR0VTVF9SRVNPTFVUSU9OLm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRlZmF1bHRNb25pdG9ycy5CSUdHRVNUX0hFSUdIVC5tb25pdG9yIHx8IGRpc3BsYXlXb3JrQXJlYS5oZWlnaHQgPiBkZWZhdWx0TW9uaXRvcnMuQklHR0VTVF9IRUlHSFQubW9uaXRvci53b3JrQXJlYS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGRlZmF1bHRNb25pdG9ycy5CSUdHRVNUX0hFSUdIVC5tb25pdG9yID0gZGlzcGxheTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkZWZhdWx0TW9uaXRvcnMuQklHR0VTVF9XSURUSC5tb25pdG9yIHx8IGRpc3BsYXlXb3JrQXJlYS53aWR0aCA+IGRlZmF1bHRNb25pdG9ycy5CSUdHRVNUX1dJRFRILm1vbml0b3Iud29ya0FyZWEud2lkdGgpIHtcbiAgICAgICAgICAgIGRlZmF1bHRNb25pdG9ycy5CSUdHRVNUX1dJRFRILm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRlZmF1bHRNb25pdG9ycy5TTUFMTEVTVF9SRVNPTFVUSU9OLm1vbml0b3IpIHtcbiAgICAgICAgICAgIGRlZmF1bHRNb25pdG9ycy5TTUFMTEVTVF9SRVNPTFVUSU9OLm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2JpZ2dlc3RSZXNvbHV0aW9uID0gZGVmYXVsdE1vbml0b3JzLlNNQUxMRVNUX1JFU09MVVRJT04ubW9uaXRvci53b3JrQXJlYS5oZWlnaHQgKiBkZWZhdWx0TW9uaXRvcnMuU01BTExFU1RfUkVTT0xVVElPTi5tb25pdG9yLndvcmtBcmVhLndpZHRoO1xuICAgICAgICAgICAgaWYgKGFyZWEgPCBfYmlnZ2VzdFJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgZGVmYXVsdE1vbml0b3JzLlNNQUxMRVNUX1JFU09MVVRJT04ubW9uaXRvciA9IGRpc3BsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGVmYXVsdE1vbml0b3JzLlNNQUxMRVNUX0hFSUdIVC5tb25pdG9yIHx8IGRpc3BsYXlXb3JrQXJlYS5oZWlnaHQgPCBkZWZhdWx0TW9uaXRvcnMuU01BTExFU1RfSEVJR0hULm1vbml0b3Iud29ya0FyZWEuaGVpZ2h0KSB7XG4gICAgICAgICAgICBkZWZhdWx0TW9uaXRvcnMuU01BTExFU1RfSEVJR0hULm1vbml0b3IgPSBkaXNwbGF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRlZmF1bHRNb25pdG9ycy5TTUFMTEVTVF9XSURUSC5tb25pdG9yIHx8IGRpc3BsYXlXb3JrQXJlYS53aWR0aCA8IGRlZmF1bHRNb25pdG9ycy5TTUFMTEVTVF9XSURUSC5tb25pdG9yLndvcmtBcmVhLndpZHRoKSB7XG4gICAgICAgICAgICBkZWZhdWx0TW9uaXRvcnMuU01BTExFU1RfV0lEVEgubW9uaXRvciA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIChjb25zb2xlLmVycm9yIHx8IGNvbnNvbGUubG9nKS5jYWxsKGNvbnNvbGUsIGVyci5zdGFjayB8fCBlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdE1vbml0b3JzO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKHVzZURlZmF1bHRNb25pdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBkZWZhdWx0TW9uaXRvcnMgPSBnZXREZWZhdWx0TW9uaXRvcnNNYXBwaW5nKCk7XG4gICAgICB2YXIgbWlzc2luZyA9IGZhbHNlO1xuICAgICAgXy5mb3JFYWNoKHZtLm9wdGlvbnMudGFicywgZnVuY3Rpb24gKHRhYiwgaWR4KSB7XG4gICAgICAgIC8vdmVyaWZ5IGN1c3RvbVxuICAgICAgICB0YWIuaW5jb25zaXN0ZW50Q3VzdG9tID0gZmFsc2U7XG4gICAgICAgIGlmICh0YWIuY3VzdG9tICYmIHRhYi5jdXN0b20gIT09ICcnKSB7XG4gICAgICAgICAgdmFyIGN1c3RvbU1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgXy5mb3JFYWNoKHZtLm9wdGlvbnMucG9zaXRpb25zLCBmdW5jdGlvbiAoY3VzdG9tUG9zaXRpb24sIGlkeCkge1xuICAgICAgICAgICAgaWYgKGN1c3RvbVBvc2l0aW9uLm5hbWUgPT09IHRhYi5jdXN0b20pIHtcbiAgICAgICAgICAgICAgdGFiLmluY29uc2lzdGVudEN1c3RvbSA9IHRydWU7XG4gICAgICAgICAgICAgIGN1c3RvbU1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghY3VzdG9tTWF0Y2gpIHtcbiAgICAgICAgICAgIG1pc3NpbmcgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vdmVyaWZ5IGRpc3BsYXlcbiAgICAgICAgdmFyIGRpc3BsYXlNYXRjaCA9IGZhbHNlO1xuICAgICAgICBfLmZvckVhY2godm0uZGlzcGxheUluZm9zLCBmdW5jdGlvbiAoZGlzcGxheSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGRpc3BsYXkuaXNFbmFibGVkICYmIHRhYi5tb25pdG9yLmlkID09PSBkaXNwbGF5LmlkKSB7XG4gICAgICAgICAgICBkaXNwbGF5TWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZGlzcGxheU1hdGNoKSB7XG4gICAgICAgICAgdmFyIGRlZmF1bHRNb25pdG9yID0gbnVsbDtcbiAgICAgICAgICBpZiAodXNlRGVmYXVsdE1vbml0b3IpIHtcbiAgICAgICAgICAgIGRlZmF1bHRNb25pdG9yID0gZ2V0TWFwcGVkRGVmYXVsdE1vbml0b3JCeUlkKGRlZmF1bHRNb25pdG9ycywgdGFiLmRlZmF1bHRNb25pdG9yKTtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0TW9uaXRvcikge1xuICAgICAgICAgICAgICB0YWIubW9uaXRvciA9IGFuZ3VsYXIuY29weShkZWZhdWx0TW9uaXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdXNlRGVmYXVsdE1vbml0b3IgfHwgIWRlZmF1bHRNb25pdG9yKSB7XG4gICAgICAgICAgICB0YWIuaW5jb25zaXN0ZW50TW9uaXRvciA9IHRydWU7XG4gICAgICAgICAgICBtaXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFiLmluY29uc2lzdGVudE1vbml0b3IgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2bS5pbmNvbnNpc3RlbnRPcHRpb25zID0gbWlzc2luZztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIChjb25zb2xlLmVycm9yIHx8IGNvbnNvbGUubG9nKS5jYWxsKGNvbnNvbGUsIGVyci5zdGFjayB8fCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGF1dG9maXhPcHRpb25zKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcHJpbWFyeURpc3BsYXkgPSBnZXRQcmltYXJ5RGlzcGxheSgpO1xuICAgICAgXy5mb3JFYWNoKHZtLm9wdGlvbnMudGFicywgZnVuY3Rpb24gKHRhYiwgaWR4KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY2xvc2VzdE1hdGNoID0gbnVsbDtcbiAgICAgICAgXy5mb3JFYWNoKHZtLmRpc3BsYXlJbmZvcywgZnVuY3Rpb24gKGRpc3BsYXksIGlkeCkge1xuICAgICAgICAgIGlmIChkaXNwbGF5LmlzRW5hYmxlZCAmJiBkaXNwbGF5LndvcmtBcmVhICYmIGRpc3BsYXkud29ya0FyZWEuaGVpZ2h0ID09PSB0YWIubW9uaXRvci53b3JrQXJlYS5oZWlnaHQgJiYgZGlzcGxheS53b3JrQXJlYS53aWR0aCA9PT0gdGFiLm1vbml0b3Iud29ya0FyZWEud2lkdGgpIHtcbiAgICAgICAgICAgIGNsb3Nlc3RNYXRjaCA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWIubW9uaXRvci5pZCA9PT0gZGlzcGxheS5pZCkge1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICBpZiAoY2xvc2VzdE1hdGNoKSB7XG4gICAgICAgICAgICByZXBsYWNlTW9uaXRvcih0YWIubW9uaXRvciwgY2xvc2VzdE1hdGNoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByaW1hcnlEaXNwbGF5KSB7XG4gICAgICAgICAgICByZXBsYWNlTW9uaXRvcih0YWIubW9uaXRvciwgcHJpbWFyeURpc3BsYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL21vbml0b3I6IHZtLm5ld1RhYk9wdGlvbi5tb25pdG9yLFxuICAgICAgICAgIC8vcG9zaXRpb246IHZtLm5ld1RhYk9wdGlvbi5wb3NpdGlvbi5pZCxcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhbGlkYXRlT3B0aW9ucygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZU1vbml0b3IodGFyZ2V0LCBzb3VyY2VEaXNwbGF5KSB7XG4gICAgICB0YXJnZXQud29ya0FyZWEgPSBhbmd1bGFyLmNvcHkoc291cmNlRGlzcGxheS53b3JrQXJlYSk7XG4gICAgICB0YXJnZXQuaWQgPSBzb3VyY2VEaXNwbGF5LmlkO1xuICAgICAgdmFyIGlkeCA9IF8uZmluZEluZGV4KHZtLmRpc3BsYXlJbmZvcywgc291cmNlRGlzcGxheSk7XG4gICAgICB0YXJnZXQubmFtZSA9IHNvdXJjZURpc3BsYXkubmFtZTsgLy8oaWR4ICsgMSkgKyAnICcgKyBzb3VyY2VEaXNwbGF5Lm5hbWU7XG4gICAgICB0YXJnZXQuaWR4ID0gaWR4ICsgMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOZXdPcHRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJlbWVtYmVyOiBmYWxzZSxcbiAgICAgIGNvZGU6ICdjdXN0b20nLFxuICAgICAgbmFtZTogdm0ubG9jYWxlLlJVTEVfTkFNRV9QTEFDRUhPTERFUixcbiAgICAgIHVybDogJ2h0dHA6Ly9hbnkudXJsLycsXG4gICAgICBtb25pdG9yOiBnZXRQcmltYXJ5RGlzcGxheSgpLFxuICAgICAgZGVmYXVsdE1vbml0b3I6IERFRkFVTFRfTU9OSVRPUlMuTUFJTl9NT05JVE9SLFxuICAgICAgZnVsbFNjcmVlbjogZmFsc2UsXG4gICAgICBwb3B1cDogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiBQT1NJVElPTlMuQ0VOVEVSXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVOZXdPcHRpb24xKCkge1xuICAgIGNvbnNvbGUubG9nKGdldFByaW1hcnlEaXNwbGF5KCkpO1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICByZW1lbWJlcjogdHJ1ZSxcbiAgICAgIGNvZGU6ICdjdXN0b20nLFxuICAgICAgbmFtZTogJ0xBUE9MTycsXG4gICAgICB1cmw6ICdodHRwczovL2hpcy5sYXBvbG8uY29tOjcwMDAvaGlzL3NjcmVlbi1zYXZlcicsXG4gICAgICBtb25pdG9yOiBnZXRQcmltYXJ5RGlzcGxheSgpLFxuICAgICAgZGVmYXVsdE1vbml0b3I6IERFRkFVTFRfTU9OSVRPUlMuTUFJTl9NT05JVE9SLFxuICAgICAgZnVsbFNjcmVlbjogdHJ1ZSxcbiAgICAgIHBvcHVwOiB0cnVlLFxuICAgICAgcG9zaXRpb246IFBPU0lUSU9OUy5GVUxMU0laRVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuSW1wb3J0VGVtcGxhdGVNZW51KCkge1xuICAgIHZhciB0ZW1wbGF0ZVVybCA9IGxvY2FsU3RvcmFnZVtUQUJfSEVMUEVSX1RFTVBMQVRFX1VSTF07XG4gICAgaWYgKHRlbXBsYXRlVXJsKSB7XG4gICAgICB2bS50ZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsO1xuICAgIH1cbiAgICB2bS5zaG93SW1wb3J0VGVtcGxhdGVEaWFsb2cgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWNjZXB0SW1wb3J0VGVtcGxhdGVNZW51KHRlbXBsYXRlVXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZtLnNob3dJbXBvcnRUZW1wbGF0ZURpYWxvZyA9IGZhbHNlO1xuICAgICAgaWYgKHRlbXBsYXRlVXJsICYmIHRlbXBsYXRlVXJsICE9PSAnJykge1xuICAgICAgICBsb2NhbFN0b3JhZ2VbVEFCX0hFTFBFUl9URU1QTEFURV9VUkxdID0gdGVtcGxhdGVVcmw7XG4gICAgICAgIHZtLnRlbXBsYXRlVXJsID0gdGVtcGxhdGVVcmw7XG5cbiAgICAgICAgY2FsbEh0dHBCeUdldCh0ZW1wbGF0ZVVybCwgZnVuY3Rpb24gb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRhYnMpIHtcbiAgICAgICAgICAgICAgbWVyZ2VSdWxlcyh2bS5vcHRpb25zLnRhYnMsIHJlc3BvbnNlLmRhdGEudGFicyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS50ZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHZtLnJlcGxhY2VBbGxUZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgICAgICB2bS5vcHRpb25zLnRlbXBsYXRlcyA9IHJlc3BvbnNlLmRhdGEudGVtcGxhdGVzO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVzKHZtLm9wdGlvbnMudGVtcGxhdGVzLCByZXNwb25zZS5kYXRhLnRlbXBsYXRlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRlT3B0aW9ucyh0cnVlKTtcbiAgICAgICAgICAgIG1hcmtBc0RpcmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgKGNvbnNvbGUuZXJyb3IgfHwgY29uc29sZS5sb2cpLmNhbGwoY29uc29sZSwgZXJyLnN0YWNrIHx8IGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VSdWxlcyhleGlzdGVudFJ1bGVzLCB0ZW1wbGF0ZVJ1bGVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFuT3JkZXIoZXhpc3RlbnRSdWxlcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhpc3RlbnRSdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcnVsZSA9IGV4aXN0ZW50UnVsZXNbaV07XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGVtcGxhdGVSdWxlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRlbXBsYXRlUnVsZXNba107XG4gICAgICAgICAgdGVtcGxhdGUub3JkZXIgPSBrICsgMTtcbiAgICAgICAgICBpZiAocnVsZS5jb2RlID09PSB0ZW1wbGF0ZS5jb2RlKSB7XG4gICAgICAgICAgICAvL21hcmsgYXMgbWVyZ2VkXG4gICAgICAgICAgICB0ZW1wbGF0ZS5tZXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy9ydWxlLmFjdGl2ZSA9IHRlbXBsYXRlLmFjdGl2ZTtcbiAgICAgICAgICAgIC8vcnVsZS5jb2RlID0gdGVtcGxhdGUuY29kZTtcbiAgICAgICAgICAgIC8vcnVsZS5yZW1lbWJlciA9IHRlbXBsYXRlLnJlbWVtYmVyO1xuICAgICAgICAgICAgcnVsZS51cmwgPSB0ZW1wbGF0ZS51cmw7XG4gICAgICAgICAgICBydWxlLm5hbWUgPSB0ZW1wbGF0ZS5uYW1lO1xuICAgICAgICAgICAgLy9ydWxlLm1vbml0b3IgPSB0ZW1wbGF0ZS5tb25pdG9yO1xuICAgICAgICAgICAgcnVsZS5kZWZhdWx0TW9uaXRvciA9IHRlbXBsYXRlLmRlZmF1bHRNb25pdG9yO1xuICAgICAgICAgICAgLy9ydWxlLmZ1bGxTY3JlZW4gPSB0ZW1wbGF0ZS5mdWxsU2NyZWVuO1xuICAgICAgICAgICAgLy9ydWxlLnBvcHVwID0gdGVtcGxhdGUucG9wdXA7XG4gICAgICAgICAgICAvL3J1bGUucG9zaXRpb24gPSB0ZW1wbGF0ZS5wb3NpdGlvbiA/IHRlbXBsYXRlLnBvc2l0aW9uLmlkIDogJ2NlbnRlcic7XG5cbiAgICAgICAgICAgIHJ1bGUub3JkZXIgPSB0ZW1wbGF0ZS5vcmRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9hZGQgbmV3IHRlbXBsYXRlc1xuICAgICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IHRlbXBsYXRlUnVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICAgIHZhciBfdGVtcGxhdGUgPSB0ZW1wbGF0ZVJ1bGVzW19rXTtcbiAgICAgICAgaWYgKCFfdGVtcGxhdGUubWVyZ2VkKSB7XG4gICAgICAgICAgZXhpc3RlbnRSdWxlcy5wdXNoKF90ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc29ydEJ5T3JkZXIoZXhpc3RlbnRSdWxlcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykuY2FsbChjb25zb2xlLCBlcnIuc3RhY2sgfHwgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvL2NsZWFuIGFueSBvcmRlciB2YWx1ZS5cbiAgZnVuY3Rpb24gY2xlYW5PcmRlcihsaXN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWxldGUgbGlzdFtpXS5vcmRlcjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlPcmRlcihsaXN0KSB7XG4gICAgLy9zb3J0IGl0ZW1zIGJ5IG9yZGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxpc3QubGVuZ3RoIC0gMSAtIGk7IGsrKykge1xuICAgICAgICB2YXIgaXRlbTEgPSBsaXN0W2tdO1xuICAgICAgICB2YXIgaXRlbTIgPSBsaXN0W2sgKyAxXTtcblxuICAgICAgICBpZiAoaXRlbTEub3JkZXIgJiYgaXRlbTIub3JkZXIgJiYgaXRlbTEub3JkZXIgPiBpdGVtMi5vcmRlciB8fCBpdGVtMS5vcmRlciAmJiAhaXRlbTIub3JkZXIpIHtcbiAgICAgICAgICBsaXN0W2tdID0gaXRlbTI7XG4gICAgICAgICAgbGlzdFtrICsgMV0gPSBpdGVtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVzKGN1cnJlbnRUZW1wbGF0ZXMsIG5ld1RlbXBsYXRlcykge1xuICAgIHRyeSB7XG4gICAgICBjbGVhbk9yZGVyKGN1cnJlbnRUZW1wbGF0ZXMpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRUZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nVGVtcGxhdGUgPSBjdXJyZW50VGVtcGxhdGVzW2ldO1xuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG5ld1RlbXBsYXRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHZhciBfbmV3VGVtcGxhdGUgPSBuZXdUZW1wbGF0ZXNba107XG4gICAgICAgICAgX25ld1RlbXBsYXRlLm9yZGVyID0gayArIDE7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nVGVtcGxhdGUuY29kZSA9PT0gX25ld1RlbXBsYXRlLmNvZGUpIHtcbiAgICAgICAgICAgIC8vbWFyayBhcyBtZXJnZWRcbiAgICAgICAgICAgIF9uZXdUZW1wbGF0ZS5tZXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS5hY3RpdmUgPSBfbmV3VGVtcGxhdGUuYWN0aXZlO1xuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS5jb2RlID0gX25ld1RlbXBsYXRlLmNvZGU7XG4gICAgICAgICAgICBleGlzdGluZ1RlbXBsYXRlLnJlbWVtYmVyID0gX25ld1RlbXBsYXRlLnJlbWVtYmVyO1xuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS51cmwgPSBfbmV3VGVtcGxhdGUudXJsO1xuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS5uYW1lID0gX25ld1RlbXBsYXRlLm5hbWU7XG4gICAgICAgICAgICBleGlzdGluZ1RlbXBsYXRlLmRlZmF1bHRNb25pdG9yID0gX25ld1RlbXBsYXRlLmRlZmF1bHRNb25pdG9yO1xuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS5wb3NpdGlvbiA9IF9uZXdUZW1wbGF0ZS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgZXhpc3RpbmdUZW1wbGF0ZS5vcmRlciA9IF9uZXdUZW1wbGF0ZS5vcmRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9hZGQgbmV3IHRlbXBsYXRlc1xuICAgICAgZm9yICh2YXIgX2syID0gMDsgX2syIDwgbmV3VGVtcGxhdGVzLmxlbmd0aDsgX2syKyspIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gbmV3VGVtcGxhdGVzW19rMl07XG4gICAgICAgIGlmICghbmV3VGVtcGxhdGUubWVyZ2VkKSB7XG4gICAgICAgICAgY3VycmVudFRlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvL3NvcnQgdGVtcGxhdGVzIGJ5IG9yZGVyXG4gICAgICBzb3J0QnlPcmRlcihjdXJyZW50VGVtcGxhdGVzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIChjb25zb2xlLmVycm9yIHx8IGNvbnNvbGUubG9nKS5jYWxsKGNvbnNvbGUsIGVyci5zdGFjayB8fCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbEltcG9ydFRlbXBsYXRlTWVudSgpIHtcbiAgICB2bS5zaG93SW1wb3J0VGVtcGxhdGVEaWFsb2cgPSBmYWxzZTtcbiAgICB2bS50ZW1wbGF0ZVVybCA9ICcnO1xuICB9XG5cbiAgZnVuY3Rpb24gaW1wb3J0VGVtcGxhdGUoZmlsZSkge1xuICAgIFVwbG9hZC51cGxvYWQoe1xuICAgICAgdXJsOiAndXBsb2FkL3VybCcsXG4gICAgICBkYXRhOiB7IGZpbGU6IGZpbGUsICd1c2VybmFtZSc6ICRzY29wZS51c2VybmFtZSB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3MgJyArIHJlc3AuY29uZmlnLmRhdGEuZmlsZS5uYW1lICsgJ3VwbG9hZGVkLiBSZXNwb25zZTogJyArIHJlc3AuZGF0YSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBzdGF0dXM6ICcgKyByZXNwLnN0YXR1cyk7XG4gICAgfSwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgdmFyIHByb2dyZXNzUGVyY2VudGFnZSA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCk7XG4gICAgICBpZiAoZXZ0LmNvbmZpZy5kYXRhLmZpbGUubmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3M6ICcgKyBwcm9ncmVzc1BlcmNlbnRhZ2UgKyAnJSAnICsgZXZ0LmNvbmZpZy5kYXRhLmZpbGUubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3M6ICcgKyBwcm9ncmVzc1BlcmNlbnRhZ2UgKyAnJSAnICsgZXZ0LmNvbmZpZy5kYXRhLmZpbGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwb3J0VGVtcGxhdGUoKSB7XG4gICAgdmFyIG9wdGlvbnNBc0pzb24gPSBhbmd1bGFyLnRvSnNvbih2bS5vcHRpb25zLCAzKTtcbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtvcHRpb25zQXNKc29uXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XG4gICAgdmFyIHNhdmVBcyA9IHdpbmRvdy5zYXZlQXM7XG4gICAgc2F2ZUFzKGJsb2IsICdtdWx0aXdpbmRvdy1wb3NpdGlvbmVyLXJ1bGUtZXhwb3J0Lmpzb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRUZW1wbGF0ZXMoKSB7XG4gICAgcmV0dXJuIFt7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICByZW1lbWJlcjogZmFsc2UsXG4gICAgICBuYW1lOiAnTEFQT0xPJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vaGlzLmxhcG9sby5jb206NzAwMC9oaXMvc2NyZWVuLXNhdmVyJyxcbiAgICAgIGNvZGU6ICdnb29nbGUtc2VhcmNoJyxcbiAgICAgIGRlZmF1bHRNb25pdG9yOiAnbWFpbi1tb25pdG9yJ1xuICAgIH1dO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZU9wdGlvblVwKGZpcnN0LCBpbmRleCkge1xuICAgIGlmICghZmlyc3QpIHtcbiAgICAgIHN3YXAodm0ub3B0aW9ucy50YWJzLCBpbmRleCwgaW5kZXggLSAxKTtcbiAgICAgIG1hcmtBc0RpcmsoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlT3B0aW9uRG93bihsYXN0LCBpbmRleCkge1xuICAgIGlmICghbGFzdCkge1xuICAgICAgc3dhcCh2bS5vcHRpb25zLnRhYnMsIGluZGV4LCBpbmRleCArIDEpO1xuICAgICAgbWFya0FzRGlyaygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN3YXAobGlzdCwgaWR4MSwgaWR4Mikge1xuICAgIHZhciB0bXAgPSBsaXN0W2lkeDFdO1xuICAgIGxpc3RbaWR4MV0gPSBsaXN0W2lkeDJdO1xuICAgIGxpc3RbaWR4Ml0gPSB0bXA7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsSHR0cEJ5R2V0KGNhbGxQYXRoLCBjYWxsYmFjaykge1xuICAgICRodHRwKHtcbiAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICB1cmw6IGNhbGxQYXRoLFxuICAgICAgaGVhZGVyczogeyAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScgfVxuICAgIH0pLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKTtcblxuICAgIGZ1bmN0aW9uIG9uRXJyb3IocmVzcG9uc2UpIHtcbiAgICAgIHZhciByZXN1bHQgPSBoYW5kbGVIdHRwRXJyb3IocmVzcG9uc2UuZGF0YSwgY2FsbFBhdGgpO1xuICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH07XG5cbiAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSHR0cEVycm9yKGRhdGEsIGNhbGxQYXRoKSB7XG4gICAgdmFyIHJlc3BvbnNlID0geyBzdWNjZXNzOiBmYWxzZSB9O1xuICAgIGlmIChkYXRhKSB7XG4gICAgICByZXNwb25zZS5lcnJvciA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlLmVycm9yID0gZGF0ZU5vdygpICsgJyAtIFJlcXVlc3QgZmFpbGVkOiAnICsgY2FsbFBhdGg7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRhdGVOb3coKSB7XG4gICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiBkLnRvTG9jYWxlU3RyaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlTG9jYWxlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBPUFRJT05TX1RJVExFOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdPUFRJT05TX1RJVExFJyksXG4gICAgICBUQUJfU0VUVElOR1M6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1RBQl9TRVRUSU5HUycpLFxuXG4gICAgICAvL2N1c3RvbSBwb3NpdGlvbnNcbiAgICAgIFRBQl9QT1NJVElPTlM6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1RBQl9QT1NJVElPTlMnKSxcbiAgICAgIENVU1RPTTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQ1VTVE9NJyksXG4gICAgICBXSURUSDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnV0lEVEgnKSxcbiAgICAgIEhFSUdIVDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnSEVJR0hUJyksXG4gICAgICBBRERfUE9TSVRJT046IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0FERF9QT1NJVElPTicpLFxuICAgICAgUkVNT1ZFX1BPU0lUSU9OOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdSRU1PVkVfUE9TSVRJT04nKSxcblxuICAgICAgLy90YWJsZSBjb2x1bW5zXG4gICAgICBBQ1RJVkU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0FDVElWRScpLFxuICAgICAgTkFNRTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTkFNRScpLFxuICAgICAgVVJMOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdVUkwnKSxcbiAgICAgIFJFTUVNQkVSOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdSRU1FTUJFUicpLFxuICAgICAgTU9OSVRPUjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTU9OSVRPUicpLFxuICAgICAgUE9TSVRJT046IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1BPU0lUSU9OJyksXG4gICAgICBQTEFJTjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUExBSU4nKSxcblxuICAgICAgLy90YWJsZSBhY3Rpb25zXG4gICAgICBFRElUX1RBQl9SVUxFOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdFRElUX1RBQl9SVUxFJyksXG4gICAgICBERUxFVEVfVEFCX1JVTEU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0RFTEVURV9UQUJfUlVMRScpLFxuICAgICAgTU9WRV9VUDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTU9WRV9VUCcpLFxuICAgICAgTU9WRV9ET1dOOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdNT1ZFX0RPV04nKSxcblxuICAgICAgLy9kaWFsb2dzXG4gICAgICBORVdfVEFCX09QVElPTl9USVRMRTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTkVXX1RBQl9PUFRJT05fVElUTEUnKSxcbiAgICAgIEVESVRfVEFCX09QVElPTl9USVRMRTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRURJVF9UQUJfT1BUSU9OX1RJVExFJyksXG4gICAgICBURU1QTEFURTogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnVEVNUExBVEUnKSxcbiAgICAgIFBMQUlOX1dJTkRPVzogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUExBSU5fV0lORE9XJyksXG4gICAgICBBREQ6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0FERCcpLFxuICAgICAgVVBEQVRFOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdVUERBVEUnKSxcbiAgICAgIENBTkNFTDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQ0FOQ0VMJyksXG4gICAgICBURU1QTEFURV9VUkw6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1RFTVBMQVRFX1VSTCcpLFxuICAgICAgUkVQTEFDRV9BTExfVEVNUExBVEVTOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdSRVBMQUNFX0FMTF9URU1QTEFURVMnKSxcblxuICAgICAgLy9hY3Rpb25zXG4gICAgICBBRERfVEFCX09QVElPTjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQUREX1RBQl9PUFRJT04nKSxcbiAgICAgIFNBVkU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1NBVkUnKSxcbiAgICAgIFVORE86IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1VORE8nKSxcbiAgICAgIFJFTE9BRDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnUkVMT0FEJyksXG4gICAgICBJTVBPUlRfVEVNUExBVEU6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0lNUE9SVF9URU1QTEFURScpLFxuICAgICAgRVhQT1JUX1RFTVBMQVRFOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdFWFBPUlRfVEVNUExBVEUnKSxcbiAgICAgIFNIT1dfTU9SRV9PUFRJT05TOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTSE9XX01PUkVfT1BUSU9OUycpLFxuICAgICAgVkFMSURBVEVfUlVMRVM6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1ZBTElEQVRFX1JVTEVTJyksXG4gICAgICBERVRFQ1RfTU9OSVRPUlM6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0RFVEVDVF9NT05JVE9SUycpLFxuICAgICAgQVVUT19SRVBBSVJfUlVMRVM6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ0FVVE9fUkVQQUlSX1JVTEVTJyksXG5cbiAgICAgIC8vd2luZG93IHBvc2l0aW9uc1xuICAgICAgTUFYSU1JWkVEOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdNQVhJTUlaRUQnKSxcbiAgICAgIExFRlRfSEFMRjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTEVGVF9IQUxGJyksXG4gICAgICBSSUdIVF9IQUxGOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdSSUdIVF9IQUxGJyksXG4gICAgICBUT1BfSEFMRjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnVE9QX0hBTEYnKSxcbiAgICAgIEJPVFRPTV9IQUxGOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdCT1RUT01fSEFMRicpLFxuXG4gICAgICAvL2RlZmF1bHQgbW9uaXRvcnNcbiAgICAgIERFRkFVTFRfTU9OSVRPUjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnREVGQVVMVF9NT05JVE9SJyksXG4gICAgICBNQUlOX01PTklUT1I6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ01BSU5fTU9OSVRPUicpLFxuICAgICAgTk9UX01BSU5fTU9OSVRPUjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnTk9UX01BSU5fTU9OSVRPUicpLFxuICAgICAgQklHR0VTVF9SRVNPTFVUSU9OOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdCSUdHRVNUX1JFU09MVVRJT04nKSxcbiAgICAgIEJJR0dFU1RfSEVJR0hUOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdCSUdHRVNUX0hFSUdIVCcpLFxuICAgICAgQklHR0VTVF9XSURUSDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnQklHR0VTVF9XSURUSCcpLFxuICAgICAgU01BTExFU1RfUkVTT0xVVElPTjogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnU01BTExFU1RfUkVTT0xVVElPTicpLFxuICAgICAgU01BTExFU1RfSEVJR0hUOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTTUFMTEVTVF9IRUlHSFQnKSxcbiAgICAgIFNNQUxMRVNUX1dJRFRIOiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKCdTTUFMTEVTVF9XSURUSCcpLFxuXG4gICAgICBSVUxFX05BTUVfUExBQ0VIT0xERVI6IGNocm9tZS5pMThuLmdldE1lc3NhZ2UoJ1JVTEVfTkFNRV9QTEFDRUhPTERFUicpLFxuXG4gICAgICBEUkFGVDogY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSgnRFJBRlQnKVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbGl6ZURlZmF1bHRNb25pdG9yKGRlZmF1bHRNb25pdG9yKSB7XG4gICAgdmFyIGxvY2FsaXplZERlZmF1bHRNb25pdG9yID0gZGVmYXVsdE1vbml0b3I7XG4gICAgaWYgKGRlZmF1bHRNb25pdG9yID09PSBERUZBVUxUX01PTklUT1JTLk1BSU5fTU9OSVRPUi5pZCkge1xuICAgICAgbG9jYWxpemVkRGVmYXVsdE1vbml0b3IgPSB2bS5sb2NhbGUuTUFJTl9NT05JVE9SO1xuICAgIH0gZWxzZSBpZiAoZGVmYXVsdE1vbml0b3IgPT09IERFRkFVTFRfTU9OSVRPUlMuTk9UX01BSU5fTU9OSVRPUi5pZCkge1xuICAgICAgbG9jYWxpemVkRGVmYXVsdE1vbml0b3IgPSB2bS5sb2NhbGUuTk9UX01BSU5fTU9OSVRPUjtcbiAgICB9IGVsc2UgaWYgKGRlZmF1bHRNb25pdG9yID09PSBERUZBVUxUX01PTklUT1JTLkJJR0dFU1RfUkVTT0xVVElPTi5pZCkge1xuICAgICAgbG9jYWxpemVkRGVmYXVsdE1vbml0b3IgPSB2bS5sb2NhbGUuQklHR0VTVF9SRVNPTFVUSU9OO1xuICAgIH0gZWxzZSBpZiAoZGVmYXVsdE1vbml0b3IgPT09IERFRkFVTFRfTU9OSVRPUlMuQklHR0VTVF9IRUlHSFQuaWQpIHtcbiAgICAgIGxvY2FsaXplZERlZmF1bHRNb25pdG9yID0gdm0ubG9jYWxlLkJJR0dFU1RfSEVJR0hUO1xuICAgIH0gZWxzZSBpZiAoZGVmYXVsdE1vbml0b3IgPT09IERFRkFVTFRfTU9OSVRPUlMuQklHR0VTVF9XSURUSC5pZCkge1xuICAgICAgbG9jYWxpemVkRGVmYXVsdE1vbml0b3IgPSB2bS5sb2NhbGUuQklHR0VTVF9XSURUSDtcbiAgICB9IGVsc2UgaWYgKGRlZmF1bHRNb25pdG9yID09PSBERUZBVUxUX01PTklUT1JTLlNNQUxMRVNUX1JFU09MVVRJT04uaWQpIHtcbiAgICAgIGxvY2FsaXplZERlZmF1bHRNb25pdG9yID0gdm0ubG9jYWxlLlNNQUxMRVNUX1JFU09MVVRJT047XG4gICAgfSBlbHNlIGlmIChkZWZhdWx0TW9uaXRvciA9PT0gREVGQVVMVF9NT05JVE9SUy5TTUFMTEVTVF9IRUlHSFQuaWQpIHtcbiAgICAgIGxvY2FsaXplZERlZmF1bHRNb25pdG9yID0gdm0ubG9jYWxlLlNNQUxMRVNUX0hFSUdIVDtcbiAgICB9IGVsc2UgaWYgKGRlZmF1bHRNb25pdG9yID09PSBERUZBVUxUX01PTklUT1JTLlNNQUxMRVNUX1dJRFRILmlkKSB7XG4gICAgICBsb2NhbGl6ZWREZWZhdWx0TW9uaXRvciA9IHZtLmxvY2FsZS5TTUFMTEVTVF9XSURUSDtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxpemVkRGVmYXVsdE1vbml0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbGl6ZVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgdmFyIGxvY2FsaXplZFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgaWYgKHBvc2l0aW9uID09PSBQT1NJVElPTlMuQ0VOVEVSLmlkKSB7XG4gICAgICBsb2NhbGl6ZWRQb3NpdGlvbiA9IHZtLmxvY2FsZS5NQVhJTUlaRUQ7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gUE9TSVRJT05TLkxFRlRfSEFMRi5pZCkge1xuICAgICAgbG9jYWxpemVkUG9zaXRpb24gPSB2bS5sb2NhbGUuTEVGVF9IQUxGO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFBPU0lUSU9OUy5SSUdIVF9IQUxGLmlkKSB7XG4gICAgICBsb2NhbGl6ZWRQb3NpdGlvbiA9IHZtLmxvY2FsZS5SSUdIVF9IQUxGO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09IFBPU0lUSU9OUy5UT1BfSEFMRi5pZCkge1xuICAgICAgbG9jYWxpemVkUG9zaXRpb24gPSB2bS5sb2NhbGUuVE9QX0hBTEY7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gUE9TSVRJT05TLkJPVFRPTV9IQUxGLmlkKSB7XG4gICAgICBsb2NhbGl6ZWRQb3NpdGlvbiA9IHZtLmxvY2FsZS5CT1RUT01fSEFMRjtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxpemVkUG9zaXRpb247XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVIZWxwKCkge1xuICAgIHZtLnNob3dzSGVscCA9ICF2bS5zaG93c0hlbHA7XG4gICAgaWYgKHZtLnNob3dzSGVscCkge1xuICAgICAgZG9TY3JvbGxUb0VsZW1lbnQoJ3F1aWNrLWluZm8tc2VjdGlvbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb1Njcm9sbFRvRWxlbWVudCgndG9wLXNlY3Rpb24nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkb1Njcm9sbFRvRWxlbWVudChlbGVtZW50SWQsIG5vdGlmeVNjcm9sbCwgZHVyYXRpb24sIG9mZnNldCkge1xuICAgIHZhciBkZWZhdWx0RHVyYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChkdXJhdGlvbikgPyBkdXJhdGlvbiA6IDA7IC8vbWlsbGlzZWNvbmRzXG4gICAgdmFyIGRlZmF1bHRPZmZzZXQgPSBhbmd1bGFyLmlzRGVmaW5lZChvZmZzZXQpID8gb2Zmc2V0IDogMDsgLy9waXhlbHM7IGFkanVzdCBmb3IgZmxvYXRpbmcgbWVudSwgY29udGV4dCBldGNcbiAgICAvL1Njcm9sbCB0byAjc29tZS1pZCB3aXRoIDMwIHB4IFwicGFkZGluZ1wiXG4gICAgLy9Ob3RlOiBVc2UgdGhpcyBpbiBhIGRpcmVjdGl2ZSwgbm90IHdpdGggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWRcblxuICAgIHZhciBjb250YWluZXIgPSBqUXVlcnkoJ2h0bWwsIGJvZHknKTtcbiAgICBjb250YWluZXIuc3RvcCgpO1xuXG4gICAgdmFyIGVsZW1lbnRUb1Njcm9sbCA9IGpRdWVyeSgnIycgKyBlbGVtZW50SWQpO1xuICAgIGlmIChlbGVtZW50VG9TY3JvbGwgJiYgZWxlbWVudFRvU2Nyb2xsLmxlbmd0aCA+IDApIHtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGFpbmVyLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogalF1ZXJ5KCcjJyArIGVsZW1lbnRJZCkub2Zmc2V0KCkudG9wICsgZGVmYXVsdE9mZnNldFxuICAgICAgICB9LCA4MDApO1xuICAgICAgfSwgMTAwLCBmYWxzZSk7XG4gICAgfVxuICB9XG59XSk7Il19
